import { initGame, updateParams, setRestartCallback, resetGame, launchBall, resetSessionBest } from './app.js';

// --- Helper Functions for generating math questions ---
const randomInt = (min, max) => Math.floor(Math.random() * (max - min + 1)) + min;

// Generator: Units (Bits/Bytes)
function generateUnitQuestions(count = 16) {
  const qs = [];
  for(let i=0; i<count; i++) {
    const type = randomInt(0, 3);
    if(type === 0) {
      const bits = [4, 8, 16, 32, 64][randomInt(0, 4)];
      qs.push({
        q: `${bits}„Éì„ÉÉ„Éà„ÅßË°®Áèæ„Åß„Åç„ÇãÊÉÖÂ†±„ÅÆÁ®ÆÈ°û„ÅØ‰ΩïÈÄö„ÇäÔºü`,
        options: [`${2**(bits-1)}ÈÄö„Çä`, `${2**bits}ÈÄö„Çä`, `${bits*2}ÈÄö„Çä`, `${bits**2}ÈÄö„Çä`],
        a: 1,
        explanation: `N„Éì„ÉÉ„Éà„ÅÆÊÉÖÂ†±Èáè„ÅØ $2^N$ ÈÄö„Çä„Å®„Å™„Çä„Åæ„Åô„ÄÇ\n${bits}„Éì„ÉÉ„Éà„Å™„Çâ $2^{${bits}} = ${2**bits}$ ÈÄö„Çä„Åß„Åô„ÄÇ`
      });
    } else if (type === 1) {
      const bytes = randomInt(1, 10);
      qs.push({
        q: `${bytes}„Éê„Ç§„Éà„ÅØ‰Ωï„Éì„ÉÉ„ÉàÔºü`,
        options: [`${bytes*4}„Éì„ÉÉ„Éà`, `${bytes*8}„Éì„ÉÉ„Éà`, `${bytes*16}„Éì„ÉÉ„Éà`, `${bytes+8}„Éì„ÉÉ„Éà`],
        a: 1,
        explanation: `1„Éê„Ç§„Éà„ÅØ8„Éì„ÉÉ„Éà„Åß„Åô„ÄÇ\n„Åó„Åü„Åå„Å£„Å¶ ${bytes} √ó 8 = ${bytes*8} „Éì„ÉÉ„Éà„Å®„Å™„Çä„Åæ„Åô„ÄÇ`
      });
    } else if (type === 2) {
      const kb = randomInt(1, 5);
      qs.push({
        q: `${kb}KB („Ç≠„É≠„Éê„Ç§„Éà) „ÅØ‰Ωï„Éê„Ç§„ÉàÔºü (1KB=1024B„Å®„Åô„Çã)`,
        options: [`${kb*1000}`, `${kb*1024}`, `${kb*8}`, `${kb*100}`],
        a: 1,
        explanation: `ÊÉÖÂ†±„ÅÆ‰∏ñÁïå„Åß„ÅØ $2^{10}=1024$ „ÇíÂçò‰Ωç„ÅÆÂå∫Âàá„Çä„Å®„Åô„Çã„Åì„Å®„ÅåÂ§ö„ÅÑ„Åß„Åô„ÄÇ\n${kb} √ó 1024 = ${kb*1024} „Éê„Ç§„Éà„Åß„Åô„ÄÇ`
      });
    } else {
       const colors = [1, 4, 8, 16, 24];
       const c = colors[randomInt(0,4)];
       qs.push({
         q: `${c}„Éì„ÉÉ„Éà„Ç´„É©„Éº„ÅßË°®Áèæ„Åß„Åç„ÇãËâ≤Êï∞„ÅØÔºü`,
         options: [`${2**c}`, `${c*2}`, `${c*c}`, `ÁÑ°Èôê`],
         a: 0,
         explanation: `Ëâ≤Êï∞„ÇÇ„Éì„ÉÉ„ÉàÊï∞N„Å´ÂØæ„Åó„Å¶ $2^N$ „ÅßË®àÁÆó„Åß„Åç„Åæ„Åô„ÄÇ\n‰æãÔºö8„Éì„ÉÉ„Éà„Ç´„É©„Éº„Å™„Çâ256Ëâ≤„ÄÅ24„Éì„ÉÉ„Éà„Å™„ÇâÁ¥Ñ1677‰∏áËâ≤„Åß„Åô„ÄÇ`
       });
    }
  }
  return qs;
}

// Generator: Base Conversion
function generateBaseConvQuestions(count = 16) {
  const qs = [];
  for(let i=0; i<count; i++) {
    const type = randomInt(0, 2);
    if(type === 0) { // Bin -> Dec
      const val = randomInt(3, 31);
      const bin = val.toString(2);
      qs.push({
        q: `2ÈÄ≤Êï∞„Äå${bin}„Äç„Çí10ÈÄ≤Êï∞„Å´Â§âÊèõ„Åô„Çã„Å®Ôºü`,
        options: [(val-1).toString(), val.toString(), (val+1).toString(), (val+2).toString()],
        a: 1,
        explanation: `ÂêÑÊ°Å„ÅÆÈáç„Åø(1, 2, 4, 8...)„ÇíË∂≥„ÅóÂêà„Çè„Åõ„Åæ„Åô„ÄÇ\n‰æã: 101 „Å™„Çâ 4+1=5 „Å®„Å™„Çä„Åæ„Åô„ÄÇ`
      });
    } else if (type === 1) { // Dec -> Bin
      const val = randomInt(3, 31);
      const bin = val.toString(2);
      const fake1 = (val+1).toString(2);
      const fake2 = (val-1).toString(2);
      const fake3 = (val+2).toString(2);
      qs.push({
        q: `10ÈÄ≤Êï∞„Äå${val}„Äç„Çí2ÈÄ≤Êï∞„Å´Â§âÊèõ„Åô„Çã„Å®Ôºü`,
        options: [fake2, bin, fake1, fake3],
        a: 1,
        explanation: `Êï∞ÂÄ§„Çí2„ÅßÂâ≤„Å£„Å¶„ÅÑ„Åç„ÄÅ‰Ωô„Çä„Çí‰∏ã„Åã„Çâ‰∏¶„Åπ„Çã„Å®Ê±Ç„ÇÅ„Çâ„Çå„Åæ„Åô„ÄÇ`
      });
    } else { // Hex -> Dec
      const val = randomInt(10, 255);
      const hex = val.toString(16).toUpperCase();
      qs.push({
        q: `16ÈÄ≤Êï∞„Äå${hex}„Äç„Çí10ÈÄ≤Êï∞„ÅßË°®„Åô„Å®Ôºü`,
        options: [(val-1).toString(), val.toString(), (val+10).toString(), (val*2).toString()],
        a: 1,
        explanation: `16ÈÄ≤Êï∞„ÅÆ1Ê°Å„ÅØ0-9, A-F(10-15)„Åß„Åô„ÄÇ\n16„ÅÆ‰Ωç„Å®1„ÅÆ‰Ωç„ÇíË®àÁÆó„Åó„Å¶Ë∂≥„ÅóÂêà„Çè„Åõ„Åæ„Åô„ÄÇ`
      });
    }
  }
  return qs;
}

// Generator: Calculation
function generateCalcQuestions(count = 16) {
  const qs = [];
  for(let i=0; i<count; i++) {
    const a = randomInt(1, 7);
    const b = randomInt(1, 7);
    const sum = a + b;
    const aBin = a.toString(2).padStart(4,'0');
    const bBin = b.toString(2).padStart(4,'0');
    const sumBin = sum.toString(2).padStart(4,'0');
    
    // Create wrong answers
    const w1 = (sum+1).toString(2).padStart(4,'0');
    const w2 = (sum-1).toString(2).padStart(4,'0');
    const w3 = (sum+2).toString(2).padStart(4,'0');
    
    qs.push({
      q: `2ÈÄ≤Êï∞„ÅÆË®àÁÆóÔºö ${aBin} + ${bBin} = ?`,
      options: [w2, sumBin, w1, w3],
      a: 1,
      explanation: `1+1=10(2ÈÄ≤Êï∞) „Å®„Å™„ÇãÊ°Å‰∏ä„Åå„Çä„Å´Ê≥®ÊÑè„Åó„Å¶Ë®àÁÆó„Åó„Åæ„Åô„ÄÇ\n(10ÈÄ≤Êï∞„Åß ${a}+${b}=${sum} „Å™„ÅÆ„Åß„ÄÅ${sum}„Çí2ÈÄ≤Êï∞„Å´„Åô„Çã„Å®${sumBin})`
    });
  }
  return qs;
}

// Generator: Logic Gates
function generateLogicQuestions(count = 16) {
  const qs = [];
  const gates = ['AND', 'OR', 'XOR', 'NAND'];
  for(let i=0; i<count; i++) {
    const gate = gates[randomInt(0, 3)];
    const a = randomInt(0, 1);
    const b = randomInt(0, 1);
    let ans = 0;
    if(gate === 'AND') ans = a & b;
    if(gate === 'OR') ans = a | b;
    if(gate === 'XOR') ans = a ^ b;
    if(gate === 'NAND') ans = (a & b) ? 0 : 1;
    
    let desc = "";
    if(gate === 'AND') desc = "‰∏°Êñπ1„ÅÆ„Å®„Åç„Å†„Åë1";
    if(gate === 'OR') desc = "„Å©„Å°„Çâ„Åã„Åå1„Å™„Çâ1";
    if(gate === 'XOR') desc = "Áï∞„Å™„ÇãÂ†¥Âêà„Å´1 (Âêå„Åò„Å™„Çâ0)";
    if(gate === 'NAND') desc = "AND„ÅÆÈÄÜ (‰∏°Êñπ1„ÅÆ„Å®„Åç„Å†„Åë0)";

    qs.push({
      q: `Ë´ñÁêÜÂõûË∑ØÔºöÂÖ•ÂäõA=${a}, ÂÖ•ÂäõB=${b} „ÅÆ„Å®„Åç„ÄÅ${gate}ÂõûË∑Ø„ÅÆÂá∫Âäõ„ÅØÔºü`,
      options: ["0", "1", "‰∏çÂÆö", "Z"],
      a: ans === 0 ? 0 : 1,
      explanation: `${gate}ÂõûË∑Ø„ÅØ„Äå${desc}„Äç„Å®„Å™„ÇãÂõûË∑Ø„Åß„Åô„ÄÇ`
    });
  }
  return qs;
}


// --- Quiz Data Structure: 12 Genres based on "Info I" Curriculum ---
const genres = [
  {
    id: 'info_unit',
    title: 'ÊÉÖÂ†±„ÅÆÂçò‰Ωç„Å®Èáè',
    icon: 'üìè',
    description: '„Éì„ÉÉ„Éà„ÄÅ„Éê„Ç§„Éà„ÄÅÊÉÖÂ†±Èáè„ÅÆË®àÁÆó',
    questions: [
      { q: "„Äå1„Éì„ÉÉ„Éà„Äç„ÅßË°®Áèæ„Åß„Åç„ÇãÊÉÖÂ†±„ÅÆÁ®ÆÈ°û„ÅØ‰ΩïÈÄö„ÇäÔºü", options: ["1ÈÄö„Çä", "2ÈÄö„Çä", "4ÈÄö„Çä", "8ÈÄö„Çä"], a: 1, explanation: "1„Éì„ÉÉ„Éà„ÅØ0„Å®1„ÅÆ2ÈÄö„Çä„ÅÆÁä∂ÊÖã„ÇíÊåÅ„Å°„Åæ„Åô„ÄÇ" },
      { q: "„Äå1„Éê„Ç§„Éà„Äç„ÅØ‰Ωï„Éì„ÉÉ„ÉàÔºü", options: ["4„Éì„ÉÉ„Éà", "8„Éì„ÉÉ„Éà", "16„Éì„ÉÉ„Éà", "32„Éì„ÉÉ„Éà"], a: 1, explanation: "ÈÄöÂ∏∏„ÄÅ8„Éì„ÉÉ„Éà„Çí„Åæ„Å®„ÇÅ„Å¶1„Éê„Ç§„Éà„Å®Âëº„Å≥„Åæ„Åô„ÄÇ" },
      { q: "1„Éê„Ç§„Éà„ÅßË°®Áèæ„Åß„Åç„ÇãÊÉÖÂ†±Èáè„ÅØ2„ÅÆ8‰πó„Åß‰ΩïÈÄö„ÇäÔºü", options: ["128", "255", "256", "512"], a: 2, explanation: "2„ÅÆ8‰πó = 256ÈÄö„Çä„Åß„Åô„ÄÇ0„Äú255„ÅÆÊï¥Êï∞„ÇíË°®Áèæ„Åß„Åç„Åæ„Åô„ÄÇ" },
      { q: "n„Éì„ÉÉ„Éà„ÅßË°®Áèæ„Åß„Åç„ÇãÊÉÖÂ†±„ÅÆÁ®ÆÈ°û„ÅØÔºü", options: ["2 √ó n", "n„ÅÆ2‰πó", "2„ÅÆn‰πó", "n + 2"], a: 2, explanation: "„Éì„ÉÉ„Éà„ÅåÂ¢ó„Åà„Çã„Åî„Å®„Å´Ë°®Áèæ„Åß„Åç„ÇãÊï∞„ÅØ2ÂÄç„Å´„Å™„Çä„Åæ„Åô„ÄÇ" }
    ]
  },
  {
    id: 'base_conv',
    title: 'Âü∫Êï∞Â§âÊèõ',
    icon: 'üî¢',
    description: '2ÈÄ≤Êï∞„ÄÅ10ÈÄ≤Êï∞„ÄÅ16ÈÄ≤Êï∞„ÅÆÂ§âÊèõ',
    questions: [
      { q: "2ÈÄ≤Êï∞„ÅÆ„Äå1010„Äç„Çí10ÈÄ≤Êï∞„Å´„Åô„Çã„Å®Ôºü", options: ["8", "10", "12", "14"], a: 1, explanation: "8+2=10 „Å®„Å™„Çä„Åæ„Åô„ÄÇ" },
      { q: "10ÈÄ≤Êï∞„ÅÆ„Äå5„Äç„Çí2ÈÄ≤Êï∞„Å´„Åô„Çã„Å®Ôºü", options: ["100", "101", "110", "111"], a: 1, explanation: "5 = 4 + 1 „Å™„ÅÆ„Åß„ÄÅ101„Å®„Å™„Çä„Åæ„Åô„ÄÇ" },
      { q: "16ÈÄ≤Êï∞„Åß„Äå10„Äç„Åã„Çâ„Äå15„Äç„ÇíË°®„Åô„ÅÆ„Å´‰Ωø„ÅÜÊñáÂ≠ó„ÅØÔºü", options: ["G„ÄúL", "A„ÄúF", "X„ÄúZ", "Œ±„Äúœâ"], a: 1, explanation: "A=10, B=11, ... F=15 „Å®ÂØæÂøú„Åó„Åæ„Åô„ÄÇ" },
      { q: "2ÈÄ≤Êï∞„Äå1111„Äç„ÅØ16ÈÄ≤Êï∞„Åß„ÅÑ„Åè„Å§Ôºü", options: ["A", "C", "E", "F"], a: 3, explanation: "8+4+2+1=15„ÄÇ15„ÅØ16ÈÄ≤Êï∞„ÅßF„Åß„Åô„ÄÇ" }
    ]
  },
  {
    id: 'calc_comp',
    title: 'Êï∞ÂÄ§„ÅÆË®àÁÆó„Å®Ë£úÊï∞',
    icon: '‚ûï',
    description: '2ÈÄ≤Êï∞„ÅÆÂä†Ê∏õÁÆó„ÄÅË≤†„ÅÆÊï∞„ÅÆË°®Áèæ',
    questions: [
      { q: "„Ç≥„É≥„Éî„É•„Éº„Çø„Åß„ÄåË≤†„ÅÆÊï∞„Äç„ÇíË°®Áèæ„Åô„ÇãÈöõ„Å´„Çà„Åè‰Ωø„Çè„Çå„ÇãËÄÉ„ÅàÊñπ„ÅØÔºü", options: ["ÈÄÜÊï∞", "Ë£úÊï∞", "ËôöÊï∞", "ÂØæÊï∞"], a: 1, explanation: "Ë£úÊï∞„Çí‰Ωø„ÅÜ„Å®„ÄÅÂºï„ÅçÁÆó„ÇíË∂≥„ÅóÁÆó„Å®„Åó„Å¶Âá¶ÁêÜ„Åß„Åç„Çã„Åü„ÇÅÂäπÁéáÁöÑ„Åß„Åô„ÄÇ" },
      { q: "2ÈÄ≤Êï∞„ÅÆ„Äå0101 + 1001„Äç„ÅÆË®àÁÆóÁµêÊûú„ÅØÔºü", options: ["1100", "1110", "1000", "1111"], a: 1, explanation: "5 + 9 = 14„ÄÇ14„ÅØ2ÈÄ≤Êï∞„Åß1110„Åß„Åô„ÄÇ" },
      { q: "2„ÅÆË£úÊï∞„ÇíÊ±Ç„ÇÅ„ÇãÊâãÈ†ÜÔºö„Éì„ÉÉ„Éà„ÇíÂèçËª¢„Åï„Åõ„ÅüÂæå„ÄÅ„Å©„ÅÜ„Åô„ÇãÔºü", options: ["1„ÇíÂºï„Åè", "1„ÇíË∂≥„Åô", "„Åù„ÅÆ„Åæ„Åæ", "2ÂÄç„Åô„Çã"], a: 1, explanation: "ÂèçËª¢„Åó„Å¶1„ÇíË∂≥„Åô„Åì„Å®„Åß2„ÅÆË£úÊï∞ÔºàË≤†„ÅÆÊï∞Ôºâ„ÅåÂæó„Çâ„Çå„Åæ„Åô„ÄÇ" },
      { q: "Ê°Å„ÅÇ„Åµ„ÇåÔºà„Ç™„Éº„Éê„Éº„Éï„É≠„ÉºÔºâ„Å®„ÅØ‰ΩïÔºü", options: ["Ë®àÁÆóÁµêÊûú„ÅåÊ°ÅÊï∞„ÇíË∂Ö„Åà„Çã", "Ë®àÁÆó„ÅåÈÄü„Åô„Åé„Çã„Åì„Å®", "„Çº„É≠„ÅßÂâ≤„Çã„Åì„Å®", "ÈõªÊ∫ê„ÅåËêΩ„Å°„Çã„Åì„Å®"], a: 0, explanation: "Áî®ÊÑè„Åï„Çå„Åü„Éì„ÉÉ„ÉàÊï∞„Å´Âèé„Åæ„Çä„Åç„Çâ„Å™„ÅÑÁä∂ÊÖã„ÅÆ„Åì„Å®„Åß„Åô„ÄÇ" }
    ]
  },
  {
    id: 'text_enc',
    title: 'ÊñáÂ≠ó„ÅÆ„Éá„Ç∏„Çø„É´Ë°®Áèæ',
    icon: 'üî§',
    description: 'ÊñáÂ≠ó„Ç≥„Éº„Éâ„ÄÅ„Éï„Ç©„É≥„Éà',
    questions: [
      { q: "Ëã±Êï∞Â≠ó„ÇÑË®òÂè∑„ÇíÊâ±„ÅÜÊúÄ„ÇÇÂü∫Êú¨ÁöÑ„Å™ÊñáÂ≠ó„Ç≥„Éº„Éâ„ÅØÔºü", options: ["Shift_JIS", "ASCII", "EUC-JP", "Unicode"], a: 1, explanation: "ASCIIÔºà„Ç¢„Çπ„Ç≠„ÉºÔºâ„ÅØ7„Éì„ÉÉ„Éà„ÅßËã±Êï∞Â≠ó„ÇíË°®„ÅôÂü∫Êú¨„Ç≥„Éº„Éâ„Åß„Åô„ÄÇ" },
      { q: "‰∏ñÁïå‰∏≠„ÅÆÊñáÂ≠ó„ÇíÁµ±‰∏Ä„Åó„Å¶Êâ±„ÅÜ„Åü„ÇÅ„ÅÆÊñáÂ≠ó„Ç≥„Éº„Éâ„ÅØÔºü", options: ["ASCII", "Unicode (UTF-8Á≠â)", "JIS„Ç≥„Éº„Éâ", "EBCDIC"], a: 1, explanation: "Unicode„ÅØÂ§öË®ÄË™ûÂØæÂøú„ÅÆ„Åü„ÇÅ„ÅÆÊ®ôÊ∫ñË¶èÊ†º„Åß„Åô„ÄÇ" },
      { q: "ÊñáÂ≠ó„ÅÆÂΩ¢Áä∂Ôºà„Éá„Ç∂„Ç§„É≥Ôºâ„Éá„Éº„Çø„ÅÆ„Åì„Å®„Çí‰Ωï„Å®Âëº„Å∂Ôºü", options: ["„Ç∞„É™„Éï", "„Ç∞„É©„Éï", "„Éì„ÉÉ„Éà", "„Éî„ÇØ„Çª„É´"], a: 0, explanation: "Âêå„ÅòÊñáÂ≠ó„Ç≥„Éº„Éâ„Åß„ÇÇ„ÄÅ„Éï„Ç©„É≥„Éà„Å´„Çà„Å£„Å¶„Ç∞„É™„ÉïÔºàÂΩ¢Ôºâ„ÅåÁï∞„Å™„Çä„Åæ„Åô„ÄÇ" },
      { q: "Êã°Â§ß„Åó„Å¶„ÇÇ„ÇÆ„Ç∂„ÇÆ„Ç∂„Å´„Å™„Çâ„Å™„ÅÑ„Éï„Ç©„É≥„ÉàÂΩ¢Âºè„ÅØÔºü", options: ["„Éì„ÉÉ„Éà„Éû„ÉÉ„Éó„Éï„Ç©„É≥„Éà", "„Ç¢„Ç¶„Éà„É©„Ç§„É≥„Éï„Ç©„É≥„Éà", "„Éâ„ÉÉ„Éà„Éï„Ç©„É≥„Éà", "„É©„Çπ„Çø„Éº„Éï„Ç©„É≥„Éà"], a: 1, explanation: "Ëº™ÈÉ≠„ÇíÊï∞Âºè„ÅßË®òÈå≤„Åô„Çã„Åü„ÇÅ„ÄÅÊã°Â§ß„Åó„Å¶„ÇÇÊªë„Çâ„Åã„Åß„Åô„ÄÇ" },
      { q: "Êó•Êú¨Ë™û„ÅÆÊñáÂ≠ó„Ç≥„Éº„Éâ„Å®„Åó„Å¶Windows„ÅßÊ®ôÊ∫ñÁöÑ„Å´‰Ωø„Çè„Çå„Å¶„Åç„Åü„ÅÆ„ÅØÔºü", options: ["Shift_JIS", "EUC-JP", "ISO-2022-JP", "UTF-8"], a: 0, explanation: "Shift_JISÔºàCP932Ôºâ„ÅåÈï∑„Çâ„Åè‰Ωø„Çè„Çå„Å¶„Åç„Åæ„Åó„Åü„ÄÇ" },
      { q: "Unicode„ÅÆÁ¨¶Âè∑ÂåñÊñπÂºè„ÅÆ‰∏Ä„Å§„Åß„ÄÅWeb„ÅßÊúÄ„ÇÇÊôÆÂèä„Åó„Å¶„ÅÑ„Çã„ÅÆ„ÅØÔºü", options: ["UTF-8", "UTF-16", "UTF-32", "Shift_JIS"], a: 0, explanation: "UTF-8„ÅØASCII„Å®„ÅÆ‰∫íÊèõÊÄß„ÅåÈ´ò„Åè„ÄÅWeb„ÅÆÊ®ôÊ∫ñ„Å®„Å™„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇ" },
      { q: "ÊñáÂ≠óÂåñ„Åë„ÅÆÂéüÂõ†„Å®„Åó„Å¶ÊúÄ„ÇÇÂèØËÉΩÊÄß„ÅåÈ´ò„ÅÑ„ÅÆ„ÅØÔºü", options: ["ÊñáÂ≠ó„Ç≥„Éº„Éâ„ÅÆ‰∏ç‰∏ÄËá¥", "„Éï„Ç©„É≥„Éà„Çµ„Ç§„Ç∫„ÅÆÈÅï„ÅÑ", "ÁîªÈù¢„ÅÆÊòé„Çã„Åï", "OS„ÅÆÁ®ÆÈ°û"], a: 0, explanation: "‰ΩúÊàêÊôÇ„Å®Ë°®Á§∫ÊôÇ„ÅßÁï∞„Å™„ÇãÊñáÂ≠ó„Ç≥„Éº„Éâ„ÇíÊåáÂÆö„Åô„Çã„Å®Áô∫Áîü„Åó„Åæ„Åô„ÄÇ" },
      { q: "„ÄåA„Äç„ÅÆASCII„Ç≥„Éº„Éâ„ÅØ0x41„ÄÇ„ÄåB„Äç„ÅÆASCII„Ç≥„Éº„Éâ„ÅØÔºü", options: ["0x40", "0x42", "0x43", "0x50"], a: 1, explanation: "ÈÄ£Áï™„Å´„Å™„Å£„Å¶„ÅÑ„Çã„Åü„ÇÅ„ÄÅ41„ÅÆÊ¨°„ÅØ42„Åß„Åô„ÄÇ" },
      { q: "„Ç¢„Ç¶„Éà„É©„Ç§„É≥„Éï„Ç©„É≥„Éà„ÅØÁîªÂÉè„Çí„Å©„ÅÜË®òÈå≤„Åó„Å¶„ÅÑ„ÇãÔºü", options: ["ÁÇπ„ÅÆÈõÜ„Åæ„Çä", "Ëº™ÈÉ≠Á∑ö„ÅÆÂ∫ßÊ®ôË®àÁÆóÂºè", "Ëâ≤„ÅÆÊøÉÊ∑°", "ÂúßÁ∏Æ„Éá„Éº„Çø"], a: 1, explanation: "„Éô„Ç∏„ÇßÊõ≤Á∑ö„Å™„Å©„ÅÆÊï∞Âºè„Éá„Éº„Çø„Å®„Åó„Å¶Ë®òÈå≤„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ" },
      { q: "„ÄåÊîπË°å„Äç„Å™„Å©„ÅÆÂà∂Âæ°ÊñáÂ≠ó„ÇÇÊñáÂ≠ó„Ç≥„Éº„Éâ„Å´Âê´„Åæ„Çå„ÇãÔºü", options: ["Âê´„Åæ„Çå„Çã", "Âê´„Åæ„Çå„Å™„ÅÑ", "OS„Å´„Çà„Çã", "„Ç¢„Éó„É™„Å´„Çà„Çã"], a: 0, explanation: "„Ç≥„É≥„Éî„É•„Éº„Çø„Å∏„ÅÆÂëΩ‰ª§„ÇíË°®„ÅôÊñáÂ≠ó„Å®„Åó„Å¶„Ç≥„Éº„Éâ„ÅåÂâ≤„ÇäÂΩì„Å¶„Çâ„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ" }
    ]
  },
  {
    id: 'sound_digi',
    title: 'Èü≥„ÅÆ„Éá„Ç∏„Çø„É´Ë°®Áèæ',
    icon: 'üéµ',
    description: 'Ê®ôÊú¨Âåñ„ÄÅÈáèÂ≠êÂåñ„ÄÅÁ¨¶Âè∑Âåñ',
    questions: [
      { q: "„Ç¢„Éä„É≠„Ç∞Ê≥¢ÂΩ¢„Çí„Éá„Ç∏„Çø„É´Âåñ„Åô„Çã3„Çπ„ÉÜ„ÉÉ„Éó„ÅÆÊ≠£„Åó„ÅÑÈ†ÜÂ∫è„ÅØÔºü", options: ["Ê®ôÊú¨Âåñ‚ÜíÈáèÂ≠êÂåñ‚ÜíÁ¨¶Âè∑Âåñ", "ÈáèÂ≠êÂåñ‚ÜíÊ®ôÊú¨Âåñ‚ÜíÁ¨¶Âè∑Âåñ", "Á¨¶Âè∑Âåñ‚ÜíÊ®ôÊú¨Âåñ‚ÜíÈáèÂ≠êÂåñ", "Ê®ôÊú¨Âåñ‚ÜíÁ¨¶Âè∑Âåñ‚ÜíÈáèÂ≠êÂåñ"], a: 0, explanation: "ÊôÇÈñì„ÇíÂå∫Âàá„Çã(Ê®ôÊú¨Âåñ)‚ÜíÂÄ§„ÇíÊ±∫„ÇÅ„Çã(ÈáèÂ≠êÂåñ)‚ÜíÊï∞ÂÄ§„Å´„Åô„Çã(Á¨¶Âè∑Âåñ)„ÅÆÈ†Ü„Åß„Åô„ÄÇ" },
      { q: "1ÁßíÈñì„Å´Ê≥¢„ÅÆÈ´ò„Åï„ÇíÊ∏¨ÂÆö„Åô„ÇãÂõûÊï∞Ôºà„Çµ„É≥„Éó„É™„É≥„Ç∞Âë®Ê≥¢Êï∞Ôºâ„ÅÆÂçò‰Ωç„ÅØÔºü", options: ["dpi", "bps", "Hz", "fps"], a: 2, explanation: "HzÔºà„Éò„É´„ÉÑÔºâ„ÅØ1Áßí„ÅÇ„Åü„Çä„ÅÆÂõûÊï∞„ÇíË°®„Åó„Åæ„Åô„ÄÇ" },
      { q: "ÈõªÂúßÔºàÊ≥¢„ÅÆÈ´ò„ÅïÔºâ„ÇíÊÆµÈöéÁöÑ„Å™Êï∞ÂÄ§„Å´Â§âÊèõ„Åô„Çã„Åì„Å®„Çí‰Ωï„Å®„ÅÑ„ÅÜÔºü", options: ["Ê®ôÊú¨Âåñ", "ÈáèÂ≠êÂåñ", "Á¨¶Âè∑Âåñ", "ÊöóÂè∑Âåñ"], a: 1, explanation: "ÈÄ£Á∂öÁöÑ„Å™ÂÄ§„ÇíÈõ¢Êï£ÁöÑ„Å™ÔºàÈ£õ„Å≥È£õ„Å≥„ÅÆÔºâÂÄ§„Å´„Åô„Çã„Åì„Å®„ÇíÈáèÂ≠êÂåñ„Å®Ë®Ä„ÅÑ„Åæ„Åô„ÄÇ" },
      { q: "CD„ÅÆÈü≥Ë≥™„Å™„Å©„ÄÅÈü≥„ÇíÂúßÁ∏Æ„Åõ„Åö„Å´Ë®òÈå≤„Åô„ÇãÊñπÂºè„ÅØÔºü", options: ["PCMÊñπÂºè", "MP3ÊñπÂºè", "AACÊñπÂºè", "MIDIÊñπÂºè"], a: 0, explanation: "Pulse Code Modulation„ÅÆÁï•„Åß„ÄÅÈùûÂúßÁ∏Æ„ÅÆ„Éá„Ç∏„Çø„É´Èü≥Â£∞ÂΩ¢Âºè„Åß„Åô„ÄÇ" },
      { q: "„Éè„Ç§„É¨„ÇæÈü≥Ê∫ê„ÅÆÁâπÂæ¥„ÅØÔºü", options: ["CD„Çà„Çä„Çµ„É≥„Éó„É™„É≥„Ç∞Âë®Ê≥¢Êï∞„Åå‰Ωé„ÅÑ", "CD„Çà„ÇäÊÉÖÂ†±Èáè„ÅåÂ§ö„ÅÑ", "„É¢„Éé„É©„É´„Åß„ÅÇ„Çã", "„Ç¢„Éä„É≠„Ç∞„É¨„Ç≥„Éº„Éâ„Å®Âêå„Åò"], a: 1, explanation: "CD„ÇíË∂Ö„Åà„ÇãÊÉÖÂ†±ÈáèÔºàÈ´òËß£ÂÉèÂ∫¶Ôºâ„ÇíÊåÅ„Å§Èü≥Ê∫ê„ÅÆ„Åì„Å®„Åß„Åô„ÄÇ" },
      { q: "ÈáèÂ≠êÂåñ„Éì„ÉÉ„ÉàÊï∞„ÇíÂ¢ó„ÇÑ„Åô„Å®„Å©„ÅÜ„Å™„ÇãÔºü", options: ["Èü≥„ÅÆÂ§ßÂ∞è„ÅÆÊÆµÈöé„ÅåÁ¥∞„Åã„Åè„Å™„Çã", "Èü≥„ÅåÈ´ò„Åè„Å™„Çã", "ÂÜçÁîüÈÄüÂ∫¶„ÅåÈÄü„Åè„Å™„Çã", "„Éé„Ç§„Ç∫„ÅåÂ¢ó„Åà„Çã"], a: 0, explanation: "16bit„Çà„Çä24bit„ÅÆÊñπ„Åå„ÄÅ„Çà„ÇäÁπäÁ¥∞„Å™Èü≥„ÅÆÂº∑Âº±„ÇíË°®Áèæ„Åß„Åç„Åæ„Åô„ÄÇ" },
      { q: "‰∫∫„ÅÆÂèØËÅ¥ÂüüÔºàËÅû„Åì„Åà„ÇãÂë®Ê≥¢Êï∞Ôºâ„ÅØ„Åä„Çà„ÅùÔºü", options: ["20Hz„Äú20kHz", "1Hz„Äú100Hz", "100kHz‰ª•‰∏ä", "0Hz„Äú10kHz"], a: 0, explanation: "ÂÄã‰∫∫Â∑Æ„ÅØ„ÅÇ„Çä„Åæ„Åô„Åå„ÄÅ‰∏ÄËà¨ÁöÑ„Å´„Åì„ÅÆÁØÑÂõ≤„Å®„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ" },
      { q: "MP3„Å™„Å©„ÅÆÈùûÂèØÈÄÜÂúßÁ∏Æ„Åß„Ç´„ÉÉ„Éà„Åï„Çå„Çã„Éá„Éº„Çø„ÅØÔºü", options: ["‰∫∫Èñì„ÅåËÅû„ÅçÂèñ„Çä„Å´„Åè„ÅÑÈÉ®ÂàÜ", "‰∏ÄÁï™Â§ß„Åç„ÅÑÈü≥", "‰∏ÄÁï™‰Ωé„ÅÑÈü≥", "„É©„É≥„ÉÄ„É†„Å™ÈÉ®ÂàÜ"], a: 0, explanation: "ËÅ¥Ë¶öÂøÉÁêÜÂ≠¶„Å´Âü∫„Å•„Åç„ÄÅËÅû„Åì„Åà„Å´„Åè„ÅÑÊàêÂàÜ„ÇíÂâäÈô§„Åó„Å¶ÂÆπÈáè„ÇíÊ∏õ„Çâ„Åó„Åæ„Åô„ÄÇ" },
      { q: "„ÄåMIDI„Äç„Éá„Éº„Çø„ÅåË®òÈå≤„Åó„Å¶„ÅÑ„Çã„ÅÆ„ÅØÔºü", options: ["Ê≥¢ÂΩ¢„ÅÆÈü≥„Åù„ÅÆ„ÇÇ„ÅÆ", "ÊºîÂ•èÊÉÖÂ†±ÔºàÈü≥Á®ã„ÇÑÈï∑„ÅïÔºâ", "Ê≠åË©û", "„Ç∏„É£„Ç±„ÉÉ„ÉàÁîªÂÉè"], a: 1, explanation: "ÈõªÂ≠êÊ•ΩÂô®„ÅÆÊºîÂ•è„Éá„Éº„ÇøÔºàÊ•ΩË≠ú„ÅÆ„Çà„ÅÜ„Å™„ÇÇ„ÅÆÔºâ„Åß„ÄÅÂÆπÈáè„ÅåÈùûÂ∏∏„Å´Â∞è„Åï„ÅÑ„Åß„Åô„ÄÇ" },
      { q: "Èü≥„ÅÆ3Ë¶ÅÁ¥†„ÅØ„ÄåÂ§ß„Åç„Åï„Äç„ÄåÈ´ò„Åï„Äç„Å®„ÅÇ„Å®‰∏Ä„Å§„ÅØÔºü", options: ["Èü≥Ëâ≤", "ÈÄü„Åï", "Ë∑ùÈõ¢", "Ê∏©Â∫¶"], a: 0, explanation: "Âêå„ÅòÈ´ò„Åï„Å®Â§ß„Åç„Åï„Åß„ÇÇ„ÄÅ„Éî„Ç¢„Éé„Å®„Éê„Ç§„Ç™„É™„É≥„ÅßÈü≥„ÅåÈÅï„ÅÜ„ÅÆ„ÅØÈü≥Ëâ≤„ÅåÈÅï„ÅÜ„Åã„Çâ„Åß„Åô„ÄÇ" }
    ]
  },
  {
    id: 'image_digi',
    title: 'ÁîªÂÉè„ÅÆ„Éá„Ç∏„Çø„É´Ë°®Áèæ',
    icon: 'üñºÔ∏è',
    description: 'ÁîªÁ¥†„ÄÅ‰∏âÂéüËâ≤„ÄÅ„É©„Çπ„Çø/„Éô„ÇØ„Çø',
    questions: [
      { q: "„Éá„Ç£„Çπ„Éó„É¨„Ç§„Å™„Å©„Åß‰Ωø„Çè„Çå„Çã„ÄåÂÖâ„ÅÆ‰∏âÂéüËâ≤„Äç„ÅØÔºü", options: ["CMY", "RGB", "HSV", "YUV"], a: 1, explanation: "Red(Ëµ§), Green(Á∑ë), Blue(Èùí)„ÅÆ3Ëâ≤„Åß„ÄÅÊ∑∑„Åú„Çã„Å®ÁôΩ„Å´„Å™„Çä„Åæ„ÅôÔºàÂä†Ê≥ïÊ∑∑Ëâ≤Ôºâ„ÄÇ" },
      { q: "ÂÖâ„ÅÆ‰∏âÂéüËâ≤„Çí„Åô„Åπ„Å¶Ê∑∑„Åú„Çã„Å®‰ΩïËâ≤„Å´„Å™„ÇãÔºü", options: ["Èªí", "ÁôΩ", "Á¥´", "Ëå∂"], a: 1, explanation: "ÂÖâ„ÅØÈáç„Å™„Çã„Åª„Å©Êòé„Çã„Åè„Å™„Çä„ÄÅÁôΩ„Å´„Å™„Çä„Åæ„Åô„ÄÇ" },
      { q: "ÁîªÂÉè„ÇíÁÇπ„ÅÆÈõÜ„Åæ„ÇäÔºàÁîªÁ¥†Ôºâ„ÅßË°®Áèæ„Åô„ÇãÂΩ¢Âºè„ÅØÔºü", options: ["„Éô„ÇØ„ÇøÂΩ¢Âºè", "„É©„Çπ„ÇøÂΩ¢Âºè", "Êï∞ÂºèÂΩ¢Âºè", "„Éë„ÇπÂΩ¢Âºè"], a: 1, explanation: "ÂÜôÁúü„Å™„Å©„ÅØ„É©„Çπ„ÇøÂΩ¢ÂºèÔºà„Éì„ÉÉ„Éà„Éû„ÉÉ„ÉóÔºâ„ÅåÈÅ©„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ" },
      { q: "ÁîªÂÉè„ÅÆÁ¥∞„Åã„Åï„ÇíË°®„Åô„ÄåËß£ÂÉèÂ∫¶„Äç„ÅÆÂçò‰Ωç„Åß„Çà„Åè‰Ωø„Çè„Çå„Çã„ÅÆ„ÅØÔºü", options: ["dpi", "Hz", "bps", "rpm"], a: 0, explanation: "dots per inch„ÅÆÁï•„Åß„ÄÅ1„Ç§„É≥„ÉÅ„ÅÇ„Åü„Çä„ÅÆ„Éâ„ÉÉ„ÉàÊï∞„ÇíË°®„Åó„Åæ„Åô„ÄÇ" },
      { q: "Âç∞Âà∑„Ç§„É≥„ÇØ„Åß‰Ωø„Çè„Çå„Çã„ÄåËâ≤„ÅÆ‰∏âÂéüËâ≤„Äç„ÅØÔºü", options: ["CMY", "RGB", "RYB", "BkWH"], a: 0, explanation: "Cyan, Magenta, Yellow„ÅÆ3Ëâ≤„Åß„ÄÅÊ∑∑„Åú„Çã„Å®Èªí„Å´Ëøë„Å•„Åç„Åæ„ÅôÔºàÊ∏õÊ≥ïÊ∑∑Ëâ≤Ôºâ„ÄÇ" },
      { q: "1ÁîªÁ¥†„Çí24„Éì„ÉÉ„ÉàÔºàRGBÂêÑ8„Éì„ÉÉ„ÉàÔºâ„ÅßË°®Áèæ„Åô„ÇãÂ†¥Âêà„ÄÅË°®Áèæ„Åß„Åç„ÇãËâ≤Êï∞„ÅØÔºü", options: ["Á¥Ñ256Ëâ≤", "Á¥Ñ65000Ëâ≤", "Á¥Ñ1677‰∏áËâ≤", "ÁÑ°Èôê"], a: 2, explanation: "2„ÅÆ24‰πó ‚âí 1677‰∏áËâ≤Ôºà„Éï„É´„Ç´„É©„ÉºÔºâ„Åß„Åô„ÄÇ" },
      { q: "ÁîªÂÉè„ÇíÊã°Â§ß„Åô„Çã„Å®„Åº„ÇÑ„Åë„Åü„Çä„ÇÆ„Ç∂„ÇÆ„Ç∂„Å´„Å™„Çã„ÅÆ„ÅØÔºü", options: ["„É©„Çπ„ÇøÁîªÂÉè", "„Éô„ÇØ„ÇøÁîªÂÉè", "„Ç¢„Ç¶„Éà„É©„Ç§„É≥„Éï„Ç©„É≥„Éà", "SVG"], a: 0, explanation: "ÁÇπ„ÅÆÈõÜ„Åæ„Çä„Åß„ÅÇ„Çã„Åü„ÇÅ„ÄÅÊã°Â§ß„Åô„Çã„Å®ÁÇπ„ÅåÁõÆÁ´ã„Å£„Å¶„Åó„Åæ„ÅÑ„Åæ„Åô„ÄÇ" },
      { q: "ÈÄèÊòéÂ∫¶„ÇíË°®„Åô„ÉÅ„É£„É≥„Éç„É´Ôºà„Ç¢„É´„Éï„Ç°„ÉÅ„É£„É≥„Éç„É´Ôºâ„ÇíÊåÅ„Å§ÁîªÂÉèÂΩ¢Âºè„ÅØÔºü", options: ["JPEG", "PNG", "BMP", "GIF(ÈÄèÈÅéËâ≤„ÅÆ„Åø)"], a: 1, explanation: "PNG„ÅØÂçäÈÄèÊòéÔºà„Ç¢„É´„Éï„Ç°„ÉÅ„É£„É≥„Éç„É´Ôºâ„ÇíÊâ±„Åà„Åæ„Åô„ÄÇ" },
      { q: "CMYÔºà„Ç∑„Ç¢„É≥„Éª„Éû„Çº„É≥„Çø„Éª„Ç§„Ç®„É≠„ÉºÔºâ„ÇíÊ∑∑„Åú„Çã„Å®‰ΩïËâ≤„Å´Ëøë„Å•„ÅèÔºü", options: ["ÁôΩ", "Èªí", "Ëµ§", "Èùí"], a: 1, explanation: "„Ç§„É≥„ÇØ„ÇíÊ∑∑„Åú„Çã„Åª„Å©Êöó„Åè„Å™„Çä„ÄÅÈªí„Å´Ëøë„Å•„Åç„Åæ„Åô„ÄÇ" },
      { q: "1„Ç§„É≥„ÉÅ„ÅÇ„Åü„Çä„ÅÆ„Éâ„ÉÉ„ÉàÊï∞„ÇíË°®„Åôdpi„ÅØ‰Ωï„ÅÆÁï•Ôºü", options: ["dots per inch", "data per image", "digital pixel index", "display per inch"], a: 0, explanation: "1„Ç§„É≥„ÉÅ(Á¥Ñ2.54cm)„ÅÆ‰∏≠„Å´„Å©„Çå„Å†„Åë„Éâ„ÉÉ„Éà„Åå„ÅÇ„Çã„Åã„ÇíÁ§∫„Åó„Åæ„Åô„ÄÇ" }
    ]
  },
  {
    id: 'video_digi',
    title: 'ÂãïÁîª„ÅÆ„Éá„Ç∏„Çø„É´Ë°®Áèæ',
    icon: 'üé¨',
    description: '„Éï„É¨„Éº„É†„É¨„Éº„Éà„ÄÅ„Éá„Éº„ÇøÈáè',
    questions: [
      { q: "ÂãïÁîª„ÅåÂãï„ÅÑ„Å¶Ë¶ã„Åà„ÇãÂéüÁêÜ„ÅØÁõÆ„ÅÆ‰Ωï„ÇíÂà©Áî®„Åó„Å¶„ÅÑ„ÇãÔºü", options: ["ÈåØË¶öÁèæË±°", "ÊÆãÂÉèÁèæË±°", "ÁÑ¶ÁÇπË™øÁØÄ", "ÊòéÊöóÈ†ÜÂøú"], a: 1, explanation: "Ââç„ÅÆÊò†ÂÉè„ÅÆÊÆãÂÉè„ÅåÊÆã„Å£„Å¶„ÅÑ„ÇãÈñì„Å´Ê¨°„ÅÆÊò†ÂÉè„ÅåË°®Á§∫„Åï„Çå„Çã„Åì„Å®„ÅßÂãï„ÅÑ„Å¶Ë¶ã„Åà„Åæ„Åô„ÄÇ" },
      { q: "1ÁßíÈñì„Å´Ë°®Á§∫„Åï„Çå„ÇãÁîªÂÉè„ÅÆÊûöÊï∞„ÇíË°®„ÅôÂçò‰Ωç„ÅØÔºü", options: ["dpi", "Hz", "fps", "bps"], a: 2, explanation: "frames per second„ÅÆÁï•„Åß„Åô„ÄÇ" },
      { q: "30fps„ÅÆÂãïÁîª„Åß„ÄÅ1ÂàÜÈñì„Å´Ë°®Á§∫„Åï„Çå„ÇãÈùôÊ≠¢Áîª„ÅØ‰ΩïÊûöÔºü", options: ["300Êûö", "600Êûö", "1800Êûö", "3600Êûö"], a: 2, explanation: "30Êûö √ó 60Áßí = 1800Êûö„Åß„Åô„ÄÇ" },
      { q: "‰∏ÄËà¨ÁöÑ„Å´„ÄÅÂãïÁîª„ÅÆ„Éá„Éº„ÇøÈáè„ÅØÈùôÊ≠¢Áîª„Å´ÊØî„Åπ„Å¶„Å©„ÅÜ„Å™„ÇãÔºü", options: ["ÈùûÂ∏∏„Å´Â∞è„Åï„ÅÑ", "Â§â„Çè„Çâ„Å™„ÅÑ", "ÈùûÂ∏∏„Å´Â§ß„Åç„ÅÑ", "ÂçäÊ∏õ„Åô„Çã"], a: 2, explanation: "Â§ßÈáè„ÅÆÈùôÊ≠¢Áîª„Å®Èü≥Â£∞„ÇíÂê´„ÇÄ„Åü„ÇÅ„ÄÅ„Éá„Éº„ÇøÈáè„ÅØÈùûÂ∏∏„Å´Â§ß„Åç„Åè„Å™„Çä„Åæ„Åô„ÄÇ" },
      { q: "ÂãïÁîª„Éá„Éº„Çø„ÅÆÂÖ•„ÇåÁâ©Ôºà„Ç≥„É≥„ÉÜ„ÉäÔºâ„ÇíË°®„ÅôÊã°ÂºµÂ≠ê„ÅØÔºü", options: [".mp4", ".jpg", ".txt", ".html"], a: 0, explanation: "mp4„ÅØÊò†ÂÉè„Å®Èü≥Â£∞„ÇíÊ†ºÁ¥ç„Åô„Çã‰ª£Ë°®ÁöÑ„Å™„Ç≥„É≥„ÉÜ„Éä„Éï„Ç©„Éº„Éû„ÉÉ„Éà„Åß„Åô„ÄÇ" },
      { q: "ÂãïÁîªÂúßÁ∏Æ„ÅÆÂü∫Ê∫ñ„Å®„Å™„Çã„Éï„É¨„Éº„É†ÔºàÂÆåÂÖ®„Å™ÁîªÂÉèÔºâ„Çí‰Ωï„Å®„ÅÑ„ÅÜÔºü", options: ["„Ç≠„Éº„Éï„É¨„Éº„É†", "„Çµ„Éñ„Éï„É¨„Éº„É†", "„Éá„É´„Çø„Éï„É¨„Éº„É†", "„Éå„É´„Éï„É¨„Éº„É†"], a: 0, explanation: "I„Éï„É¨„Éº„É†„Å®„ÇÇÂëº„Å∞„Çå„ÄÅÂçò‰Ωì„ÅßÁîªÂÉè„Å®„Åó„Å¶ÊàêÁ´ã„Åô„Çã„Éï„É¨„Éº„É†„Åß„Åô„ÄÇ" },
      { q: "„Ç§„É≥„Çø„Éº„Éç„ÉÉ„Éà„Åß„ÅÆÂãïÁîªÈÖç‰ø°„Å´ÈÅ©„Åó„ÅüÊäÄË°ì„ÅØÔºü", options: ["„Çπ„Éà„É™„Éº„Éü„É≥„Ç∞", "„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ„ÅÆ„Åø", "„Éï„É≠„ÉÉ„Éî„Éº„Éá„Ç£„Çπ„ÇØ", "FAX"], a: 0, explanation: "„Éá„Éº„Çø„Çí„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ„Åó„Å™„Åå„ÇâÂÜçÁîü„Åô„ÇãÊäÄË°ì„Åß„Åô„ÄÇ" },
      { q: "4KËß£ÂÉèÂ∫¶„ÅØ„Åä„Çà„Åù„Å©„ÅÆ„Åè„Çâ„ÅÑÔºü", options: ["1920x1080", "3840x2160", "720x480", "800x600"], a: 1, explanation: "„Éï„É´HD(1920x1080)„ÅÆÁ∏¶Ê®™2ÂÄç„ÄÅÈù¢Á©ç„Åß4ÂÄç„ÅÆËß£ÂÉèÂ∫¶„Åß„Åô„ÄÇ" },
      { q: "„Éï„É¨„Éº„É†Èñì„ÅÆÂ∑ÆÂàÜ„Å†„Åë„ÇíË®òÈå≤„Åô„ÇãÂúßÁ∏ÆÊñπÂºè„Çí‰Ωï„Å®„ÅÑ„ÅÜÔºü", options: ["„Éï„É¨„Éº„É†ÈñìÂúßÁ∏Æ", "Á©∫ÈñìÂúßÁ∏Æ", "ÂèØÈÄÜÂúßÁ∏Æ", "ZIPÂúßÁ∏Æ"], a: 0, explanation: "ÂâçÂæå„ÅÆÁîªÂÉè„Å®‰ºº„Å¶„ÅÑ„ÇãÈÉ®ÂàÜ„ÇíÁúÅÁï•„Åô„Çã„Åì„Å®„ÅßÂúßÁ∏Æ„Åó„Åæ„Åô„ÄÇ" },
      { q: "„Ç¢„Çπ„Éö„ÇØ„ÉàÊØî„Äå16:9„Äç„ÅØ„Å©„ÅÆ„Çà„ÅÜ„Å™ÂΩ¢Áä∂Ôºü", options: ["Ê≠£ÊñπÂΩ¢", "Ê®™Èï∑Ôºà„ÉØ„Ç§„ÉâÔºâ", "Á∏¶Èï∑", "ÂÜÜÂΩ¢"], a: 1, explanation: "ÁèæÂú®„ÅÆ‰∏ÄËà¨ÁöÑ„Å™„ÉÜ„É¨„Éì„ÇÑYouTubeÂãïÁîª„ÅÆÊØîÁéá„Åß„Åô„ÄÇ" }
    ]
  },
  {
    id: 'compression',
    title: '„Éá„Éº„Çø„ÅÆÂúßÁ∏Æ',
    icon: 'üì¶',
    description: 'ÂèØÈÄÜÂúßÁ∏Æ„ÄÅÈùûÂèØÈÄÜÂúßÁ∏Æ',
    questions: [
      { q: "ÂúßÁ∏Æ„Åó„Åü„Éá„Éº„Çø„ÇíÂÖÉ„Å´Êàª„Åó„Åü„Å®„Åç„ÄÅÂÆåÂÖ®„Å´ÂÖÉ„ÅÆÁä∂ÊÖã„Å´Êàª„ÇãÊñπÂºè„ÅØÔºü", options: ["ÂèØÈÄÜÂúßÁ∏Æ", "ÈùûÂèØÈÄÜÂúßÁ∏Æ", "‰∏çÂèØÈÄÜÂúßÁ∏Æ", "È´òÂúßÁ∏Æ"], a: 0, explanation: "ÊñáÊõ∏„Éï„Ç°„Ç§„É´„ÇÑ„Éó„É≠„Ç∞„É©„É†„Å™„Å©„ÅØ„ÄÅ1„Éì„ÉÉ„Éà„Åß„ÇÇÂ§â„Çè„Çã„Å®Âõ∞„Çã„Åü„ÇÅÂèØÈÄÜÂúßÁ∏Æ„Çí‰Ωø„ÅÑ„Åæ„Åô„ÄÇ" },
      { q: "JPEGÂΩ¢Âºè„ÅÆÁîªÂÉè„ÇÑMP3ÂΩ¢Âºè„ÅÆÈü≥Â£∞„ÅØ„ÄÅ‰∏ÄËà¨ÁöÑ„Å´„Å©„ÅÆÂúßÁ∏ÆÊñπÂºèÔºü", options: ["ÂèØÈÄÜÂúßÁ∏Æ", "ÈùûÂèØÈÄÜÂúßÁ∏Æ", "ZIPÂúßÁ∏Æ", "LZHÂúßÁ∏Æ"], a: 1, explanation: "‰∫∫„ÅÆÊÑüË¶ö„Å´ÂΩ±Èüø„ÅåÂ∞ë„Å™„ÅÑÁØÑÂõ≤„Åß„Éá„Éº„Çø„ÇíÊç®„Å¶„Å¶„ÄÅÂúßÁ∏ÆÁéá„ÇíÈ´ò„ÇÅ„Å¶„ÅÑ„Åæ„Åô„ÄÇ" },
      { q: "„ÄåÁôΩÁôΩÁôΩÈªíÈªí„Äç„Çí„ÄåÁôΩ3Èªí2„Äç„ÅÆ„Çà„ÅÜ„Å´Ë®òÈå≤„Åô„ÇãÂúßÁ∏ÆÊñπÊ≥ï„ÅØÔºü", options: ["„Éè„Éï„Éû„É≥Á¨¶Âè∑Âåñ", "„É©„É≥„É¨„É≥„Ç∞„ÇπÂúßÁ∏Æ", "ËæûÊõ∏ÂúßÁ∏Æ", "Â∑ÆÂàÜÂúßÁ∏Æ"], a: 1, explanation: "ÈÄ£Á∂ö„Åô„Çã„Éá„Éº„Çø„ÅÆÈï∑„Åï„ÇíË®òÈå≤„Åô„ÇãÊñπÂºè„Åß„Åô„ÄÇ" },
      { q: "ÈùûÂèØÈÄÜÂúßÁ∏Æ„ÅÆ„É°„É™„ÉÉ„Éà„ÅØÔºü", options: ["ÁîªË≥™„ÅåËâØ„Åè„Å™„Çã", "ÂúßÁ∏ÆÁéá„ÇíÈ´ò„Åè„Åß„Åç„Çã", "ÂÖÉ„Å´Êàª„Åõ„Çã", "Ë®àÁÆó„Åå‰∏çË¶Å"], a: 1, explanation: "ÁîªË≥™Á≠â„ÅØÂ§öÂ∞ëÂä£Âåñ„Åó„Åæ„Åô„Åå„ÄÅ„Éï„Ç°„Ç§„É´„Çµ„Ç§„Ç∫„ÇíÂäáÁöÑ„Å´Â∞è„Åï„Åè„Åß„Åç„Åæ„Åô„ÄÇ" },
      { q: "Âá∫ÁèæÈ†ªÂ∫¶„ÅÆÈ´ò„ÅÑ„Éá„Éº„Çø„Å´Áü≠„ÅÑ„Éì„ÉÉ„ÉàÂàó„ÇíÂâ≤„ÇäÂΩì„Å¶„ÇãÊâãÊ≥ï„ÅØÔºü", options: ["„Éè„Éï„Éû„É≥Á¨¶Âè∑Âåñ", "„É©„É≥„É¨„É≥„Ç∞„ÇπÊ≥ï", "MP3", "JPEG"], a: 0, explanation: "„Çà„ÅèÂá∫„ÇãÊñáÂ≠ó„ÇíÁü≠„ÅèË°®Áèæ„Åô„Çã„Åì„Å®„ÅßÂÖ®‰Ωì„ÅÆ„Éá„Éº„ÇøÈáè„ÇíÊ∏õ„Çâ„Åó„Åæ„Åô„ÄÇ" },
      { q: "ZIP„Éï„Ç°„Ç§„É´„ÅØ„Å©„ÅÆÂúßÁ∏ÆÊñπÂºèÔºü", options: ["ÂèØÈÄÜÂúßÁ∏Æ", "ÈùûÂèØÈÄÜÂúßÁ∏Æ", "Èü≥Â£∞ÂúßÁ∏Æ", "ÂãïÁîªÂúßÁ∏Æ"], a: 0, explanation: "ZIP„ÅØËß£Âáç„Åô„Çã„Å®ÂÆåÂÖ®„Å´ÂÖÉ„Å´Êàª„ÇãÂèØÈÄÜÂúßÁ∏Æ„Åß„Åô„ÄÇ" },
      { q: "ÂúßÁ∏Æ„Åó„Åü„Éá„Éº„Çø„ÇíÂÖÉ„Å´Êàª„Åô„Åì„Å®„Çí‰Ωï„Å®„ÅÑ„ÅÜÔºü", options: ["Ëß£ÂáçÔºà‰º∏Âºµ/Â±ïÈñãÔºâ", "ÂÜ∑Âáç", "ÂÜçÂúßÁ∏Æ", "„Ç§„É≥„Çπ„Éà„Éº„É´"], a: 0, explanation: "‰º∏ÂºµÔºà„Åó„Çì„Å°„Çá„ÅÜÔºâ„ÇÑÂ±ïÈñã„Å®„ÇÇÂëº„Å∞„Çå„Åæ„Åô„ÄÇ" },
      { q: "Ê¨°„ÅÆ„ÅÜ„Å°„ÄÅÂèØÈÄÜÂúßÁ∏Æ„ÅÆÁîªÂÉèÂΩ¢Âºè„ÅØÔºü", options: ["JPEG", "PNG", "MPEG", "HEIC(Ë®≠ÂÆö„Å´„Çà„Çã)"], a: 1, explanation: "PNG„ÅØÁîªË≥™„ÇíÂä£Âåñ„Åï„Åõ„Åö„Å´ÂúßÁ∏Æ„Åß„Åç„Åæ„Åô„ÄÇ" },
      { q: "ËæûÊõ∏ÂúßÁ∏ÆÊ≥ï„ÅßÂà©Áî®„Åô„Çã„ÅÆ„ÅØÔºü", options: ["„Éá„Éº„Çø„ÅÆÁπ∞„ÇäËøî„Åó„Éë„Çø„Éº„É≥", "Ëâ≤„ÅÆÂπ≥ÂùáÂÄ§", "Èü≥„ÅÆÈ´ò„Åï", "„Éï„Ç°„Ç§„É´Âêç"], a: 0, explanation: "Áπ∞„ÇäËøî„ÅóÂá∫Áèæ„Åô„Çã„Éë„Çø„Éº„É≥„ÇíÁü≠„ÅÑ„Ç≥„Éº„Éâ„Å´ÁΩÆ„ÅçÊèõ„Åà„Åæ„Åô„ÄÇ" },
      { q: "„Éá„Éº„ÇøÈáè„ÅåÂçäÂàÜ„Å´„Å™„Å£„ÅüÂ†¥Âêà„ÄÅÂúßÁ∏ÆÁéá„ÅØÔºü", options: ["200%", "50%", "100%", "0%"], a: 1, explanation: "ÂúßÁ∏ÆÂæå„ÅÆ„Çµ„Ç§„Ç∫ √∑ ÂÖÉ„ÅÆ„Çµ„Ç§„Ç∫ √ó 100 „ÅßË®àÁÆó„Åó„Åæ„Åô„ÄÇ" }
    ]
  },
  {
    id: 'hardware',
    title: '„Ç≥„É≥„Éî„É•„Éº„Çø„ÅÆÊßãÊàê',
    icon: 'üñ•Ô∏è',
    description: '5Â§ßË£ÖÁΩÆ„ÄÅCPU„ÄÅ„É°„É¢„É™',
    questions: [
      { q: "„Ç≥„É≥„Éî„É•„Éº„Çø„ÅÆ„ÄåÈ†≠ËÑ≥„Äç„Å´„ÅÇ„Åü„Çä„ÄÅÊºîÁÆó„Å®Âà∂Âæ°„ÇíË°å„ÅÜË£ÖÁΩÆ„ÅØÔºü", options: ["HDD", "„É°„É¢„É™", "CPU", "„Éû„Ç¶„Çπ"], a: 2, explanation: "Central Processing UnitÔºà‰∏≠Â§ÆÊºîÁÆóÂá¶ÁêÜË£ÖÁΩÆÔºâ„ÅÆ„Åì„Å®„Åß„Åô„ÄÇ" },
      { q: "ÈõªÊ∫ê„ÇíÂàá„Çã„Å®„Éá„Éº„Çø„ÅåÊ∂à„Åà„Å¶„Åó„Åæ„ÅÜ‰∏ªË®òÊÜ∂Ë£ÖÁΩÆÔºà„É°„É¢„É™Ôºâ„ÅØÔºü", options: ["RAM", "ROM", "SSD", "DVD"], a: 0, explanation: "Random Access Memory„ÅØÊèÆÁô∫ÊÄß„ÅÆ„É°„É¢„É™„Åß„Åô„ÄÇ" },
      { q: "5Â§ßË£ÖÁΩÆ„Å´Âê´„Åæ„Çå„Å™„ÅÑ„ÇÇ„ÅÆ„ÅØÔºü", options: ["ÂÖ•ÂäõË£ÖÁΩÆ", "Âá∫ÂäõË£ÖÁΩÆ", "ÈÄö‰ø°Ë£ÖÁΩÆ", "Ë®òÊÜ∂Ë£ÖÁΩÆ"], a: 2, explanation: "5Â§ßË£ÖÁΩÆ„ÅØ„ÄåÂà∂Âæ°„ÉªÊºîÁÆó„ÉªË®òÊÜ∂„ÉªÂÖ•Âäõ„ÉªÂá∫Âäõ„Äç„Åß„Åô„ÄÇÈÄö‰ø°Ë£ÖÁΩÆ„ÅØÂê´„Åæ„Çå„Åæ„Åõ„ÇìÔºàÁèæ‰ª£„Åß„ÅØÂøÖÈ†à„Åß„Åô„ÅåÔºâ„ÄÇ" },
      { q: "CPU„ÅÆÂá¶ÁêÜÈÄüÂ∫¶„Å´Èñ¢‰øÇ„Åô„Çã„ÄÅÂãï‰Ωú„ÅÆ„Çø„Ç§„Éü„É≥„Ç∞„ÇíÂêà„Çè„Åõ„Çã‰ø°Âè∑„ÅØÔºü", options: ["„ÇØ„É≠„ÉÉ„ÇØ‰ø°Âè∑", "„Éá„Ç∏„Çø„É´‰ø°Âè∑", "„Ç¢„Éä„É≠„Ç∞‰ø°Âè∑", "Wi-Fi‰ø°Âè∑"], a: 0, explanation: "„ÇØ„É≠„ÉÉ„ÇØÂë®Ê≥¢Êï∞ÔºàHzÔºâ„ÅåÈ´ò„ÅÑ„Åª„Å©„ÄÅ1ÁßíÈñì„Å´Â§ö„Åè„ÅÆÂá¶ÁêÜ„Åå„Åß„Åç„Åæ„Åô„ÄÇ" },
      { q: "CPU„Å®‰∏ªË®òÊÜ∂Ë£ÖÁΩÆ„ÅÆÈÄüÂ∫¶Â∑Æ„ÇíÂüã„ÇÅ„Çã„Åü„ÇÅ„ÅÆÈ´òÈÄü„Å™„É°„É¢„É™„ÅØÔºü", options: ["„Ç≠„É£„ÉÉ„Ç∑„É•„É°„É¢„É™", "USB„É°„É¢„É™", "‰ªÆÊÉ≥„É°„É¢„É™", "„Éï„É©„ÉÉ„Ç∑„É•„É°„É¢„É™"], a: 0, explanation: "CPUÂÜÖÈÉ®„Å™„Å©„Å´„ÅÇ„Çä„ÄÅÈ†ªÁπÅ„Å´‰Ωø„ÅÜ„Éá„Éº„Çø„Çí‰∏ÄÊôÇ‰øùÂ≠ò„Åó„Åæ„Åô„ÄÇ" },
      { q: "GPU„ÅåÁâπ„Å´ÂæóÊÑè„Å®„Åô„ÇãÂá¶ÁêÜ„ÅØÔºü", options: ["OS„ÅÆËµ∑Âãï", "ÁîªÂÉè„ÉªÊò†ÂÉè„ÅÆÂá¶ÁêÜ", "ÊñáÊõ∏‰ΩúÊàê", "Âç∞Âà∑"], a: 1, explanation: "‰∏¶ÂàóÂá¶ÁêÜ„ÅåÂæóÊÑè„Åß„ÄÅ3D„Ç∞„É©„Éï„Ç£„ÉÉ„ÇØ„Çπ„ÇÑAIË®àÁÆó„Å´‰Ωø„Çè„Çå„Åæ„Åô„ÄÇ" },
      { q: "SSD„ÅÆÁâπÂæ¥„Å®„Åó„Å¶Ê≠£„Åó„ÅÑ„ÇÇ„ÅÆ„ÅØÔºü", options: ["HDD„Çà„ÇäÈÅÖ„ÅÑ", "Ë°ùÊíÉ„Å´Âº∑„ÅÑ„ÉªÈ´òÈÄü", "Á£ÅÊ∞ó„Éá„Ç£„Çπ„ÇØ„Çí‰Ωø„ÅÜ", "ÂÆπÈáè„ÅåÁÑ°Èôê"], a: 1, explanation: "ÂçäÂ∞é‰Ωì„É°„É¢„É™„Çí‰Ωø„ÅÜ„Åü„ÇÅ„ÄÅÁâ©ÁêÜÁöÑ„Å™ÈßÜÂãïÈÉ®„Åå„Å™„ÅèÈ´òÈÄü„Åß„Åô„ÄÇ" },
      { q: "BIOS/UEFI„Åå‰øùÂ≠ò„Åï„Çå„Å¶„ÅÑ„Çã„É°„É¢„É™„ÅØÔºü", options: ["RAM", "ROM („Éï„É©„ÉÉ„Ç∑„É•ROM)", "HDD", "Cache"], a: 1, explanation: "Ëµ∑ÂãïÁî®„Éó„É≠„Ç∞„É©„É†„ÅØÊõ∏„ÅçÊèõ„Åà„ÇãÂøÖË¶Å„ÅåÂ∞ë„Å™„ÅÑ„Åü„ÇÅ„ÄÅROM„Å´‰øùÂ≠ò„Åï„Çå„Åæ„Åô„ÄÇ" },
      { q: "Âë®Ëæ∫Ê©üÂô®„ÇíÊé•Á∂ö„Åô„ÇãË¶èÊ†º„ÄåUSB„Äç„ÅØ‰Ωï„ÅÆÁï•Ôºü", options: ["Universal Serial Bus", "Ultra Speed Board", "United System Base", "User Service Box"], a: 0, explanation: "Ê±éÁî®ÁöÑ„Å™Áõ¥Âàó„Éê„Çπ„Å®„ÅÑ„ÅÜÊÑèÂë≥„Åß„Åô„ÄÇ" },
      { q: "‰∏ªË®òÊÜ∂Ë£ÖÁΩÆ„ÅÆÂÆπÈáè„ÅåË∂≥„Çä„Å™„ÅÑÊôÇ„Å´HDD„Å™„Å©„ÇíÂÄü„Çä„Å¶‰Ωø„ÅÜ‰ªïÁµÑ„Åø„ÅØÔºü", options: ["‰ªÆÊÉ≥„É°„É¢„É™", "„Ç≠„É£„ÉÉ„Ç∑„É•„É°„É¢„É™", "„ÇØ„É©„Ç¶„Éâ", "„Éê„ÉÉ„ÇØ„Ç¢„ÉÉ„Éó"], a: 0, explanation: "Ë£úÂä©Ë®òÊÜ∂Ë£ÖÁΩÆ„ÅÆ‰∏ÄÈÉ®„Çí„É°„É¢„É™„ÅÆ„Çà„ÅÜ„Å´Êâ±„ÅÑ„Åæ„Åô„ÄÇ" }
    ]
  },
  {
    id: 'software',
    title: '„ÇΩ„Éï„Éà„Ç¶„Çß„Ç¢„Å®OS',
    icon: 'üíø',
    description: 'OS„ÅÆÂΩπÂâ≤„ÄÅGUI„ÄÅ„Éï„Ç°„Ç§„É´',
    questions: [
      { q: "„Éè„Éº„Éâ„Ç¶„Çß„Ç¢„Å®„Ç¢„Éó„É™„ÅÆÈñì„ÅßÁÆ°ÁêÜ„ÇíË°å„ÅÜ„ÄåÂü∫Êú¨„ÇΩ„Éï„Éà„Ç¶„Çß„Ç¢„Äç„ÅØÔºü", options: ["OS", "Web„Éñ„É©„Ç¶„Ç∂", "Ë°®Ë®àÁÆó„ÇΩ„Éï„Éà", "„Éâ„É©„Ç§„Éê"], a: 0, explanation: "Operating System„ÅÆÁï•„Åß„Åô„ÄÇWindows, macOS, iOS, Android„Å™„Å©„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ" },
      { q: "„Éû„Ç¶„Çπ„ÇÑ„Ç¢„Ç§„Ç≥„É≥„Çí‰Ωø„Å£„Å¶Áõ¥ÊÑüÁöÑ„Å´Êìç‰Ωú„Åß„Åç„ÇãÁîªÈù¢Áí∞Â¢É„Çí‰Ωï„Å®„ÅÑ„ÅÜÔºü", options: ["CUI", "GUI", "API", "SNS"], a: 1, explanation: "Graphical User Interface„ÅÆÁï•„Åß„Åô„ÄÇ" },
      { q: "„Éï„Ç°„Ç§„É´„ÇíÈöéÂ±§ÁöÑ„Å´Êï¥ÁêÜ„Åô„Çã„Åü„ÇÅ„ÅÆÂÖ•„ÇåÁâ©„Çí‰Ωï„Å®„ÅÑ„ÅÜÔºü", options: ["„Éï„Ç°„Ç§„É´", "„Éâ„É©„Ç§„Éñ", "„Éï„Ç©„É´„ÉÄÔºà„Éá„Ç£„É¨„ÇØ„Éà„É™Ôºâ", "„ÇØ„É©„Ç¶„Éâ"], a: 2, explanation: "PC„Åß„ÅØ„Éï„Ç©„É´„ÉÄ„ÄÅ„Éó„É≠„Ç∞„É©„Éü„É≥„Ç∞Á≠â„Åß„ÅØ„Éá„Ç£„É¨„ÇØ„Éà„É™„Å®Âëº„Å≥„Åæ„Åô„ÄÇ" },
      { q: "„Éï„Ç°„Ç§„É´Âêç„ÅÆÊú´Â∞æ„Å´„Å§„Åç„ÄÅ„Éï„Ç°„Ç§„É´„ÅÆÁ®ÆÈ°û„ÇíË°®„ÅôÊñáÂ≠óÂàóÔºà‰æã .jpgÔºâ„ÅØÔºü", options: ["„Éâ„É°„Ç§„É≥", "„Éó„É≠„Éà„Ç≥„É´", "Êã°ÂºµÂ≠ê", "„Éë„Çπ"], a: 2, explanation: "OS„Åå„Å©„ÅÆ„Ç¢„Éó„É™„ÅßÈñã„Åè„Åã„ÇíÂà§Êñ≠„Åô„Çã„ÅÆ„Å´‰Ωø„Çè„Çå„Åæ„Åô„ÄÇ" },
      { q: "„Ç™„Éº„Éó„É≥„ÇΩ„Éº„Çπ„ÅÆOS„ÅÆ‰ª£Ë°®‰æã„ÅØÔºü", options: ["Linux", "Windows", "macOS", "Excel"], a: 0, explanation: "Ë™∞„Åß„ÇÇ„ÇΩ„Éº„Çπ„Ç≥„Éº„Éâ„ÇíÈñ≤Ë¶ß„ÉªÊîπËâØ„Åß„Åç„ÇãOS„Åß„Åô„ÄÇ" },
      { q: "Êñ∞„Åó„ÅÑ„Éè„Éº„Éâ„Ç¶„Çß„Ç¢„ÇíÊé•Á∂ö„Åó„ÅüÊôÇ„Å´ÂøÖË¶Å„Å™Âà∂Âæ°„ÇΩ„Éï„Éà„ÅØÔºü", options: ["„Éá„Éê„Ç§„Çπ„Éâ„É©„Ç§„Éê", "„Éá„Éê„Ç§„Çπ„Éû„Éç„Éº„Ç∏„É£", "„Éá„Éê„Ç§„Çπ„Ç¢„Éó„É™", "„Éá„Éê„Ç§„ÇπOS"], a: 0, explanation: "OS„Å®„Éè„Éº„Éâ„Ç¶„Çß„Ç¢„ÅÆ‰ª≤‰ªãÂΩπ„Çí„Åô„Çã„ÇΩ„Éï„Éà„Åß„Åô„ÄÇ" },
      { q: "Ë§áÊï∞„ÅÆ„Çø„Çπ„ÇØ„ÇíÂêåÊôÇ„Å´ÂÆüË°å„Åó„Å¶„ÅÑ„Çã„Çà„ÅÜ„Å´Ë¶ã„Åõ„ÇãÊ©üËÉΩ„ÅØÔºü", options: ["„Éû„É´„ÉÅ„Çø„Çπ„ÇØ", "„Ç∑„É≥„Ç∞„É´„Çø„Çπ„ÇØ", "„Éû„É´„ÉÅ„Ç≥„Ç¢", "„Éè„Ç§„Éë„Éº„Çπ„É¨„ÉÉ„Éâ"], a: 0, explanation: "CPU„ÅÆÂá¶ÁêÜÊôÇÈñì„ÇíÁ¥∞„Åã„ÅèÂàá„ÇäÊõø„Åà„Å¶„ÄÅ‰∏¶Ë°å„Åó„Å¶Âãï„ÅÑ„Å¶„ÅÑ„Çã„Çà„ÅÜ„Å´Ë¶ã„Åõ„Åæ„Åô„ÄÇ" },
      { q: "„Ç¢„Éó„É™ÂêåÂ£´„Åß„Éá„Éº„Çø„Çí„ÇÑ„ÇäÂèñ„Çä„Åô„Çã„Åü„ÇÅ„ÅÆ„Ç≥„Éî„ÉºÈ†òÂüü„ÅØÔºü", options: ["„ÇØ„É™„ÉÉ„Éó„Éú„Éº„Éâ", "„Éá„Çπ„ÇØ„Éà„ÉÉ„Éó", "„Åî„ÅøÁÆ±", "„Çø„Çπ„ÇØ„Éê„Éº"], a: 0, explanation: "„Ç≥„Éî„ÉºÔºÜ„Éö„Éº„Çπ„Éà„ÅÆÈöõ„Å´‰∏ÄÊôÇÁöÑ„Å´„Éá„Éº„Çø„Åå‰øùÂ≠ò„Åï„Çå„ÇãÂ†¥ÊâÄ„Åß„Åô„ÄÇ" },
      { q: "OS„ÅåÊèê‰æõ„Åô„ÇãÊ©üËÉΩ„ÇíÂà©Áî®„Åô„Çã„Åü„ÇÅ„ÅÆ„Éó„É≠„Ç∞„É©„É†ÈÉ®ÂìÅÁæ§„ÅØÔºü", options: ["API", "GUI", "CUI", "URL"], a: 0, explanation: "Application Programming Interface„ÅÆÁï•„Åß„Åô„ÄÇ" },
      { q: "„Éê„ÉÉ„ÇØ„Ç¢„ÉÉ„Éó„ÅÆÁõÆÁöÑ„ÅØÔºü", options: ["ÂÆπÈáè„ÇíÂ¢ó„ÇÑ„Åô", "„Éá„Éº„Çø„ÅÆÊ∂àÂ§±„Å´ÂÇô„Åà„Çã", "Âãï‰Ωú„ÇíÈÄü„Åè„Åô„Çã", "ÈõªÊ∞ó‰ª£„ÇíÁØÄÁ¥Ñ„Åô„Çã"], a: 1, explanation: "ÊïÖÈöú„ÇÑÊìç‰Ωú„Éü„Çπ„Å´ÂÇô„Åà„Å¶„ÄÅÂà•„ÅÆÂ†¥ÊâÄ„Å´Ë§áË£Ω„Çí‰øùÂ≠ò„Åô„Çã„Åì„Å®„Åß„Åô„ÄÇ" }
    ]
  },
  {
    id: 'logic_circuit',
    title: 'Ë´ñÁêÜÂõûË∑Ø',
    icon: 'üîå',
    description: 'AND, OR, NOT, ÁúüÁêÜÂÄ§Ë°®',
    questions: [
      { q: "2„Å§„ÅÆÂÖ•Âäõ„Åå„Äå„Å®„ÇÇ„Å´1„Äç„ÅÆ„Å®„Åç„Å†„Åë1„ÇíÂá∫Âäõ„Åô„ÇãÂõûË∑Ø„ÅØÔºü", options: ["ORÂõûË∑Ø", "NOTÂõûË∑Ø", "ANDÂõûË∑Ø", "NANDÂõûË∑Ø"], a: 2, explanation: "Ë´ñÁêÜÁ©çÂõûË∑Ø„Å®„ÇÇÂëº„Å∞„Çå„Åæ„Åô„ÄÇ" },
      { q: "ÂÖ•Âäõ„ÅÆ„Äå„Å©„Å°„Çâ„Åã‰∏ÄÊñπ„Åß„ÇÇ1„Äç„Å™„Çâ1„ÇíÂá∫Âäõ„Åô„ÇãÂõûË∑Ø„ÅØÔºü", options: ["ORÂõûË∑Ø", "NOTÂõûË∑Ø", "ANDÂõûË∑Ø", "NORÂõûË∑Ø"], a: 0, explanation: "Ë´ñÁêÜÂíåÂõûË∑Ø„Å®„ÇÇÂëº„Å∞„Çå„Åæ„Åô„ÄÇ" },
      { q: "ÂÖ•Âäõ‰ø°Âè∑„ÇíÂèçËª¢„Åï„Åõ„ÇãÔºà0„Å™„Çâ1„ÄÅ1„Å™„Çâ0„Å´„Åô„ÇãÔºâÂõûË∑Ø„ÅØÔºü", options: ["ORÂõûË∑Ø", "NOTÂõûË∑Ø", "ANDÂõûË∑Ø", "XORÂõûË∑Ø"], a: 1, explanation: "Âê¶ÂÆöÂõûË∑Ø„Å®„ÇÇÂëº„Å∞„Çå„Åæ„Åô„ÄÇ" },
      { q: "1Ê°Å„ÅÆ2ÈÄ≤Êï∞„ÅÆË∂≥„ÅóÁÆó„ÇíË°å„ÅÜÂõûË∑Ø„Çí‰Ωï„Å®„ÅÑ„ÅÜÔºü", options: ["ÂçäÂä†ÁÆóÂô®", "ÂÖ®Âä†ÁÆóÂô®", "ÂÄçÁéáÂô®", "Êï¥ÊµÅÂô®"], a: 0, explanation: "Áπ∞„Çä‰∏ä„Åå„Çä„ÇíËÄÉÊÖÆ„Åó„Å™„ÅÑ1Ê°Å„ÅÆÂä†ÁÆóÂõûË∑Ø„Åß„ÅôÔºàËÄÉÊÖÆ„Åô„Çã„ÅÆ„ÅØÂÖ®Âä†ÁÆóÂô®Ôºâ„ÄÇ" }
      // Dynamic logic questions added on init
    ]
  },
  {
    id: 'algorithm',
    title: '„Ç¢„É´„Ç¥„É™„Ç∫„É†',
    icon: 'üß©',
    description: 'Âá¶ÁêÜÊâãÈ†Ü„ÄÅ„Éï„É≠„Éº„ÉÅ„É£„Éº„Éà',
    questions: [
      { q: "ÂïèÈ°å„ÇíËß£Ê±∫„Åô„Çã„Åü„ÇÅ„ÅÆÊâãÈ†Ü„ÇÑË®àÁÆóÊñπÊ≥ï„ÇíÂÆöÂºèÂåñ„Åó„Åü„ÇÇ„ÅÆ„ÅØÔºü", options: ["„Ç¢„É´„Ç¥„É™„Ç∫„É†", "„Éó„É≠„Ç∞„É©„É†", "„Éë„É©„ÉÄ„Ç§„É†", "„É°„Ç´„Éã„Ç∫„É†"], a: 0, explanation: "„Ç≥„É≥„Éî„É•„Éº„Çø„Å´Âá¶ÁêÜ„Åï„Åõ„Çã„Åü„ÇÅ„ÅÆÊâãÈ†Ü„ÅÆ„Åì„Å®„Åß„Åô„ÄÇ" },
      { q: "„Ç¢„É´„Ç¥„É™„Ç∫„É†„ÅÆÂü∫Êú¨ÊßãÈÄ†3„Å§„Å´Âê´„Åæ„Çå„Å™„ÅÑ„ÇÇ„ÅÆ„ÅØÔºü", options: ["È†ÜÊ¨°ÔºàÈ†ÜÊé•Ôºâ", "ÈÅ∏ÊäûÔºàÂàÜÂ≤êÔºâ", "ÂèçÂæ©ÔºàÁπ∞„ÇäËøî„ÅóÔºâ", "‰π±Êï∞Ôºà„É©„É≥„ÉÄ„É†Ôºâ"], a: 3, explanation: "Âü∫Êú¨ÊßãÈÄ†„ÅØ„ÄåÈ†ÜÊ¨°„Äç„ÄåÈÅ∏Êäû„Äç„ÄåÂèçÂæ©„Äç„ÅÆ3„Å§„Åß„Åô„ÄÇ" },
      { q: "Âá¶ÁêÜ„ÅÆÊµÅ„Çå„ÇíÂõ≥ÂΩ¢„ÅßË°®„Åó„Åü„ÇÇ„ÅÆ„Çí‰Ωï„Å®„ÅÑ„ÅÜÔºü", options: ["„Ç∞„É©„Éï", "„Éï„É≠„Éº„ÉÅ„É£„Éº„Éà", "„Éû„Ç§„É≥„Éâ„Éû„ÉÉ„Éó", "„Éí„Çπ„Éà„Ç∞„É©„É†"], a: 1, explanation: "ÊµÅ„ÇåÂõ≥„Å®„ÇÇÂëº„Å∞„Çå„Åæ„Åô„ÄÇ" },
      { q: "„Éï„É≠„Éº„ÉÅ„É£„Éº„Éà„Åß„ÄåÂà§Êñ≠ÔºàÂàÜÂ≤êÔºâ„Äç„ÇíË°®„ÅôË®òÂè∑„ÅÆÂΩ¢„ÅØÔºü", options: ["Èï∑ÊñπÂΩ¢", "Ê•ïÂÜÜ", "„Å≤„ÅóÂΩ¢", "Âπ≥Ë°åÂõõËæ∫ÂΩ¢"], a: 2, explanation: "Yes/No„ÅßÁ∑ö„ÅåÂàÜÂ≤ê„Åó„Åæ„Åô„ÄÇ" },
      { q: "„Éá„Éº„Çø„ÅÆÊé¢Á¥¢„Åß„ÄÅÂÖàÈ†≠„Åã„ÇâÈ†Ü„Å´Êé¢„ÅôÊñπÊ≥ï„ÅØÔºü", options: ["Á∑öÂΩ¢Êé¢Á¥¢", "‰∫åÂàÜÊé¢Á¥¢", "„Éè„ÉÉ„Ç∑„É•Êé¢Á¥¢", "Ê∑±„ÅïÂÑ™ÂÖàÊé¢Á¥¢"], a: 0, explanation: "„É™„Éã„Ç¢„Çµ„Éº„ÉÅ„Å®„ÇÇÂëº„Å∞„Çå„ÄÅ„Éá„Éº„Çø„ÅåÊï¥Âàó„Åó„Å¶„ÅÑ„Å™„Åè„Å¶„ÇÇ‰Ωø„Åà„Åæ„Åô„ÄÇ" },
      { q: "„Éá„Éº„Çø„ÅåÊï¥Âàó„Åï„Çå„Å¶„ÅÑ„ÇãÊôÇ„Å´‰Ωø„Åà„ÇãÈ´òÈÄü„Å™Êé¢Á¥¢Ê≥ï„ÅØÔºü", options: ["‰∫åÂàÜÊé¢Á¥¢", "Á∑öÂΩ¢Êé¢Á¥¢", "ÂÖ®Êé¢Á¥¢", "„É©„É≥„ÉÄ„É†Êé¢Á¥¢"], a: 0, explanation: "„Éê„Ç§„Éä„É™„Çµ„Éº„ÉÅ„ÄÇÁúü„Çì‰∏≠„Å®ÊØîËºÉ„Åó„Å¶ÁØÑÂõ≤„ÇíÂçäÂàÜ„Å´Áµû„Å£„Å¶„ÅÑ„Åç„Åæ„Åô„ÄÇ" },
      { q: "„Éï„É≠„Éº„ÉÅ„É£„Éº„Éà„Åß„ÄåÂá¶ÁêÜ„Äç„ÇíË°®„ÅôË®òÂè∑„ÅÆÂΩ¢„ÅØÔºü", options: ["Èï∑ÊñπÂΩ¢", "ÂÜÜ", "„Å≤„ÅóÂΩ¢", "Âπ≥Ë°åÂõõËæ∫ÂΩ¢"], a: 0, explanation: "Ë®àÁÆó„ÇÑ‰ª£ÂÖ•„Å™„Å©„ÅÆÂá¶ÁêÜ„ÇíË°®„Åó„Åæ„Åô„ÄÇ" },
      { q: "„Äå‰∫§Êèõ„Äç„ÄåÈÅ∏Êäû„Äç„ÄåÊåøÂÖ•„Äç„Å™„Å©„Åå‰ª£Ë°®ÁöÑ„Å™„Ç¢„É´„Ç¥„É™„Ç∫„É†„ÅÆÁ®ÆÈ°û„ÅØÔºü", options: ["Êï¥ÂàóÔºà„ÇΩ„Éº„ÉàÔºâ", "Êé¢Á¥¢Ôºà„Çµ„Éº„ÉÅÔºâ", "ÂúßÁ∏Æ", "ÊöóÂè∑Âåñ"], a: 0, explanation: "„Éá„Éº„Çø„Çí„ÅÇ„ÇãË¶èÂâáÔºàÂ∞è„Åï„ÅÑÈ†Ü„Å™„Å©Ôºâ„Å´Âæì„Å£„Å¶‰∏¶„ÅπÊõø„Åà„Çã„Ç¢„É´„Ç¥„É™„Ç∫„É†„Åß„Åô„ÄÇ" },
      { q: "„Éê„Ç∞„ÇíÂèñ„ÇäÈô§„Åè‰ΩúÊ•≠„Çí‰Ωï„Å®„ÅÑ„ÅÜÔºü", options: ["„Éá„Éê„ÉÉ„Ç∞", "„Ç≥„É≥„Éë„Ç§„É´", "„Ç≥„Éº„Éá„Ç£„É≥„Ç∞", "„É™„É≥„ÇØ"], a: 0, explanation: "„Éó„É≠„Ç∞„É©„É†„ÅÆË™§„ÇäÔºà„Éê„Ç∞Ôºâ„Çí‰øÆÊ≠£„Åô„Çã‰ΩúÊ•≠„Åß„Åô„ÄÇ" },
      { q: "„Éó„É≠„Ç∞„É©„É†„ÅÆ„ÇΩ„Éº„Çπ„Ç≥„Éº„Éâ„ÇíÊ©üÊ¢∞Ë™û„Å´Â§âÊèõ„Åô„Çã„ÇΩ„Éï„Éà„ÅØÔºü", options: ["„Ç≥„É≥„Éë„Ç§„É©", "„Ç®„Éá„Ç£„Çø", "„Éá„Éê„ÉÉ„Ç¨", "OS"], a: 0, explanation: "‰∫∫Èñì„ÅåË™≠„ÇÅ„Çã„Éó„É≠„Ç∞„É©„É†„Çí„ÄÅ„Ç≥„É≥„Éî„É•„Éº„Çø„ÅåÂÆüË°å„Åß„Åç„ÇãÂΩ¢Âºè„Å´ÁøªË®≥„Åó„Åæ„Åô„ÄÇ" }
    ]
  }
];

// Special Comprehensive Genre Definition
const comprehensiveGenre = {
  id: 'comprehensive',
  title: 'Á∑èÂêàÊºîÁøí (ÂÖ®ÁØÑÂõ≤)',
  icon: 'üéì',
  description: 'ÂÖ®„Ç∏„É£„É≥„É´„Åã„ÇâÂá∫È°å„ÄÇÂïèÈ°åÊï∞20Âïè„ÄÇÁç≤Âæó„Çπ„ÉÜ„Éº„Çø„Çπ„ÅØÂçäÂàÜ(Âàá„Çä‰∏ä„Åí)„ÄÇ',
  questions: [] // Populated dynamically
};


// --- State ---
let currentGenre = null;
let currentQuestions = [];
let currentQuestionIndex = 0;
let score = 0;
let bonuses = { power: 10, loft: 20, wind: 0 };
let isQuestionsExpanded = false;
let wrongAnswers = [];
let questionStartTime = 0;

// --- DOM Elements ---
let els = {};

function init() {
  els = {
    menuContainer: document.getElementById('menu-container'),
    quizContainer: document.getElementById('quiz-container'),
    gameContainer: document.getElementById('game-container'),
    genreGrid: document.getElementById('genre-grid'),
    btnReset: document.getElementById('btn-reset'),
    btnTheme: document.getElementById('btn-theme'),
    valGlobalBest: document.getElementById('val-global-best')
  };

  if (!els.menuContainer || !els.genreGrid) {
    console.error("Initialization failed: Missing DOM elements.");
    return;
  }
  
  // Setup Theme
  initTheme();
  
  // Setup Controls
  if(els.btnReset) els.btnReset.onclick = resetProgress;
  if(els.btnTheme) els.btnTheme.onclick = toggleTheme;

  // Initialize game engine
  try {
    initGame();
  } catch(e) {
    console.warn("Game init error:", e);
  }

  // Setup restart callback from app.js
  setRestartCallback(returnToMenu);

  // Expand questions just once
  if (!isQuestionsExpanded) {
    expandQuestions();
    isQuestionsExpanded = true;
  }

  // Load stats and render menu
  renderMenu();
}

function expandQuestions() {
  // Add dynamic questions to Math/Logic genres
  const unitQ = genres.find(g => g.id === 'info_unit');
  if(unitQ) unitQ.questions.push(...generateUnitQuestions(16));
  
  const baseQ = genres.find(g => g.id === 'base_conv');
  if(baseQ) baseQ.questions.push(...generateBaseConvQuestions(16));
  
  const calcQ = genres.find(g => g.id === 'calc_comp');
  if(calcQ) calcQ.questions.push(...generateCalcQuestions(16));
  
  const logicQ = genres.find(g => g.id === 'logic_circuit');
  if(logicQ) logicQ.questions.push(...generateLogicQuestions(16));
}

// --- Menu Logic ---
function getStats(genreId) {
  const key = `golf_stats_${genreId}`;
  const json = localStorage.getItem(key);
  return json ? JSON.parse(json) : { maxCorrect: 0, maxDistance: 0 };
}

function updateGlobalStats() {
  let maxShot = 0;
  // Check standard genres
  genres.forEach(g => {
    const s = getStats(g.id);
    if (s.maxDistance > maxShot) maxShot = s.maxDistance;
  });
  // Check comprehensive
  const cs = getStats('comprehensive');
  if(cs.maxDistance > maxShot) maxShot = cs.maxDistance;

  if (els.valGlobalBest) {
    els.valGlobalBest.textContent = maxShot.toFixed(1);
  }
}

function resetProgress() {
  if(!confirm("„Åô„Åπ„Å¶„ÅÆÊàêÁ∏æ„Å®Ë®òÈå≤„Çí„É™„Çª„ÉÉ„Éà„Åó„Åæ„Åô„ÅãÔºü\nAre you sure you want to reset all progress?")) return;
  
  genres.forEach(g => {
    localStorage.removeItem(`golf_stats_${g.id}`);
  });
  localStorage.removeItem(`golf_stats_comprehensive`);
  resetSessionBest();
  renderMenu();
}

// --- Theme Logic ---
function initTheme() {
  const stored = localStorage.getItem('app_theme');
  const html = document.documentElement;
  // Default to dark if not set
  if (stored === 'light') {
    html.classList.remove('dark');
    updateThemeIcon(false);
  } else {
    html.classList.add('dark');
    updateThemeIcon(true);
  }
}

function toggleTheme() {
  const html = document.documentElement;
  const isDark = html.classList.toggle('dark');
  localStorage.setItem('app_theme', isDark ? 'dark' : 'light');
  updateThemeIcon(isDark);
}

function updateThemeIcon(isDark) {
  if(els.btnTheme) els.btnTheme.textContent = isDark ? '‚òÄÔ∏è' : 'üåô';
  
  // Update Game Sky decoration
  const deco = document.getElementById('sky-deco');
  if(deco) {
    deco.textContent = isDark ? 'üåï' : '‚òÄÔ∏è';
  }
}

function renderMenu() {
  els.menuContainer.classList.remove('hidden');
  els.quizContainer.classList.add('hidden');
  els.gameContainer.classList.add('blur-md');
  
  els.gameContainer.style.zIndex = '0';
  els.menuContainer.style.zIndex = '50';
  
  updateGlobalStats();
  
  els.genreGrid.innerHTML = '';

  // Render Standard Genres
  genres.forEach(genre => renderGenreCard(genre));

  // Render Comprehensive Card
  renderGenreCard(comprehensiveGenre, true);
}

function renderGenreCard(genre, isComprehensive = false) {
  const stats = getStats(genre.id);
  const totalQ = isComprehensive ? 20 : 10; // Session limit
  
  const card = document.createElement('div');
  const borderClass = isComprehensive ? 'border-amber-400 dark:border-amber-600' : 'border-slate-200 dark:border-slate-700';
  const hoverClass = isComprehensive ? 'hover:border-amber-500 hover:shadow-amber-500/20' : 'hover:border-emerald-500 hover:shadow-emerald-500/20';
  
  card.className = `bg-white dark:bg-slate-800 rounded-2xl p-5 shadow-lg ${borderClass} ${hoverClass} hover:-translate-y-1 transition-all cursor-pointer group flex flex-col justify-between h-full`;
  card.onclick = () => startQuiz(genre);

  card.innerHTML = `
    <div>
      <div class="flex items-center justify-between mb-4">
        <span class="text-3xl bg-slate-100 dark:bg-slate-700 p-3 rounded-xl group-hover:scale-110 transition-transform">${genre.icon}</span>
        <div class="text-right">
           <div class="text-[10px] font-bold text-slate-400 uppercase tracking-wider">Cleared</div>
           <div class="font-bold text-emerald-600 dark:text-emerald-400 text-xl leading-none">${stats.maxCorrect} <span class="text-slate-400 dark:text-slate-500 text-xs">/ ${totalQ}</span></div>
        </div>
      </div>
      <h3 class="text-lg font-bold text-slate-800 dark:text-slate-100 mb-2 leading-tight ${isComprehensive ? 'text-amber-600 dark:text-amber-500' : 'group-hover:text-emerald-500 dark:group-hover:text-emerald-400'} transition-colors">${genre.title}</h3>
      <p class="text-slate-500 dark:text-slate-400 text-xs mb-4 line-clamp-2">${genre.description}</p>
    </div>
    
    <div class="bg-slate-50 dark:bg-slate-900/50 rounded-lg p-3 flex justify-between items-center mt-auto border border-slate-100 dark:border-slate-800">
      <span class="text-[10px] font-bold text-slate-400 dark:text-slate-500 uppercase">Best Record</span>
      <span class="font-mono font-bold text-amber-500 dark:text-amber-400 text-md">${stats.maxDistance.toFixed(1)}m</span>
    </div>
  `;
  els.genreGrid.appendChild(card);
}

function returnToMenu() {
  document.getElementById('msg-finished').classList.add('hidden');
  renderMenu();
}

// --- Quiz Logic ---

function startQuiz(genre) {
  currentGenre = genre;
  wrongAnswers = [];
  
  if (genre.id === 'comprehensive') {
    // Collect questions from ALL genres
    let allQuestions = [];
    genres.forEach(g => {
        allQuestions.push(...g.questions);
    });
    // Shuffle and pick 20
    const shuffled = allQuestions.sort(() => 0.5 - Math.random());
    currentQuestions = shuffled.slice(0, 20);
  } else {
    // Normal Genre: Shuffle and take up to 10
    const shuffled = [...genre.questions].sort(() => 0.5 - Math.random());
    currentQuestions = shuffled.slice(0, 10);
  }
  
  currentQuestionIndex = 0;
  score = 0;
  bonuses = { power: 10, loft: 20, wind: 0 }; 

  els.menuContainer.classList.add('hidden');
  els.quizContainer.classList.remove('hidden');
  
  renderQuizStructure();
  renderQuestion();
}

function renderQuizStructure() {
  const isComp = currentGenre.id === 'comprehensive';
  const headerGradient = isComp ? 'from-amber-500 to-orange-500' : 'from-emerald-600 to-teal-600 dark:from-emerald-700 dark:to-teal-700';

  els.quizContainer.innerHTML = `
    <div id="quiz-card" class="max-w-2xl w-full bg-white dark:bg-slate-800 rounded-2xl shadow-2xl border border-slate-200 dark:border-slate-600 overflow-hidden fade-in mx-4 transition-colors duration-300">
      <div class="bg-gradient-to-r ${headerGradient} p-6 text-white text-center shadow-md relative">
        <button id="btn-quit-quiz" class="absolute left-4 top-1/2 -translate-y-1/2 text-white/70 hover:text-white font-bold text-sm bg-black/20 px-3 py-1 rounded-full hover:bg-black/30 transition">‚úï MENU</button>
        <h1 class="text-xl font-bold tracking-tight mb-1">${currentGenre.title}</h1>
        <div class="flex justify-between items-center text-white/80 text-xs font-medium uppercase tracking-widest mt-2 px-8">
            <span>Question <span id="q-idx">1</span> / ${currentQuestions.length}</span>
            <span>Score <span id="val-quiz-score">0</span></span>
        </div>
      </div>
      <div class="p-6 md:p-8">
        <div class="w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2 mb-8">
          <div id="quiz-progress" class="${isComp ? 'bg-amber-500' : 'bg-emerald-500'} h-2 rounded-full transition-all duration-500" style="width: 0%"></div>
        </div>
        <div id="question-area">
          <h2 id="question-text" class="text-lg md:text-xl font-bold text-slate-800 dark:text-slate-100 mb-8 text-center min-h-[3rem] flex items-center justify-center"></h2>
          <div id="options-grid" class="grid grid-cols-1 gap-3 mb-6"></div>
        </div>
        <div id="feedback-area" class="hidden text-center mt-6 pt-6 border-t border-slate-200 dark:border-slate-700">
          <p id="feedback-text" class="text-lg font-bold mb-4"></p>
          <button id="btn-next-question" class="w-full md:w-auto px-10 py-3 bg-slate-800 dark:bg-slate-700 text-white rounded-lg font-bold hover:bg-slate-700 dark:hover:bg-slate-600 transition-colors shadow-lg border border-transparent dark:border-slate-600">Next</button>
        </div>
        <div id="result-area" class="hidden text-center space-y-6">
          <div class="text-5xl mb-4 animate-bounce">üéä</div>
          <h2 class="text-3xl font-bold text-slate-800 dark:text-white tracking-tight">Stage Clear!</h2>
          <p class="text-slate-500 dark:text-slate-400">Score: <span id="val-result-score" class="font-bold ${isComp ? 'text-amber-500' : 'text-emerald-600 dark:text-emerald-400'} text-2xl">${score}</span> / ${currentQuestions.length}</p>
          
          <div id="review-list-container"></div>

          <div class="bg-slate-50 dark:bg-slate-900/50 p-6 rounded-xl text-left text-sm text-slate-600 dark:text-slate-300 space-y-3 border border-slate-200 dark:border-slate-700 shadow-inner">
            <p class="font-bold text-center mb-4 text-base ${isComp ? 'text-amber-500' : 'text-emerald-600 dark:text-emerald-400'}">Item Get!</p>
            <div class="flex justify-between items-center border-b border-slate-200 dark:border-slate-700 pb-2">
              <span>‚ö° Power Module</span> <span id="bonus-power" class="font-bold text-lg text-emerald-600 dark:text-emerald-400">+0</span>
            </div>
            <div class="flex justify-between items-center border-b border-slate-200 dark:border-slate-700 pb-2">
              <span>üìê Angle Gear</span> <span id="bonus-loft" class="font-bold text-lg text-emerald-600 dark:text-emerald-400">+0¬∞</span>
            </div>
            <div class="flex justify-between items-center">
              <span>üí® Assist Fan</span> <span id="bonus-wind" class="font-bold text-lg text-emerald-600 dark:text-emerald-400">+0</span>
            </div>
          </div>

          <button id="btn-start-game" class="w-full py-4 bg-gradient-to-r from-emerald-600 to-teal-600 dark:from-emerald-600 dark:to-teal-600 text-white rounded-xl font-bold text-lg shadow-lg hover:translate-y-[-2px] transition-all border border-emerald-500/50">
            PLAY BONUS GAME ü§ñ
          </button>
        </div>
      </div>
    </div>
  `;
  
  document.getElementById('btn-next-question').onclick = nextQuestion;
  document.getElementById('btn-start-game').onclick = transitionToGame;
  document.getElementById('btn-quit-quiz').onclick = returnToMenu;
}

function renderQuestion() {
  const q = currentQuestions[currentQuestionIndex];
  
  // Reset card styles
  const card = document.getElementById('quiz-card');
  if (card) {
     card.classList.remove('bg-emerald-100', 'dark:bg-emerald-900', 'border-emerald-500', 'bg-rose-100', 'dark:bg-rose-900', 'border-rose-500');
     card.classList.add('bg-white', 'dark:bg-slate-800', 'border-slate-200', 'dark:border-slate-600');
  }

  // Set start time for speed bonus
  questionStartTime = Date.now();

  document.getElementById('q-idx').textContent = currentQuestionIndex + 1;
  document.getElementById('question-text').textContent = q.q;
  
  const grid = document.getElementById('options-grid');
  grid.innerHTML = '';
  
  const pct = (currentQuestionIndex / currentQuestions.length) * 100;
  document.getElementById('quiz-progress').style.width = `${pct}%`;

  q.options.forEach((opt, idx) => {
    const btn = document.createElement('button');
    btn.className = `quiz-option w-full p-4 text-left border-2 border-slate-200 dark:border-slate-700 rounded-xl font-medium text-slate-600 dark:text-slate-300 hover:border-emerald-500 hover:text-emerald-600 dark:hover:text-white bg-white dark:bg-slate-800 transition-all`;
    btn.textContent = opt;
    btn.onclick = () => handleAnswer(idx);
    grid.appendChild(btn);
  });
}

function handleAnswer(selectedIndex) {
  const q = currentQuestions[currentQuestionIndex];
  const isCorrect = selectedIndex === q.a;
  const options = document.getElementById('options-grid').children;

  for (let btn of options) {
    btn.disabled = true;
    btn.classList.add('cursor-not-allowed', 'opacity-60');
  }

  const feedbackText = document.getElementById('feedback-text');
  const card = document.getElementById('quiz-card');
  
  // Create Explanation Element
  const expHtml = q.explanation ? 
    `<div class="mt-4 p-4 text-sm text-left bg-slate-50 dark:bg-slate-900/50 rounded-lg border border-slate-100 dark:border-slate-700 text-slate-600 dark:text-slate-300 animate-in fade-in slide-in-from-bottom-2">
       <div class="font-bold text-xs uppercase mb-1 opacity-70">üí° Point</div>
       ${q.explanation}
    </div>` : '';
  
  if (isCorrect) {
    // Change card background to green
    card.classList.remove('bg-white', 'dark:bg-slate-800', 'border-slate-200', 'dark:border-slate-600');
    card.classList.add('bg-emerald-100', 'dark:bg-emerald-900', 'border-emerald-500');

    options[selectedIndex].classList.add('correct');
    options[selectedIndex].classList.remove('opacity-60');
    score++;
    
    // Update live score display
    const scoreEl = document.getElementById('val-quiz-score');
    if(scoreEl) scoreEl.textContent = score;

    // Bonus Logic
    let totalPoints = 6;
    
    const elapsedSeconds = (Date.now() - questionStartTime) / 1000;
    if (elapsedSeconds <= 5) {
      totalPoints += 1;
    }
    
    if (currentGenre.id === 'comprehensive') {
        totalPoints = Math.ceil(totalPoints * 0.5);
    }
    
    const dist = distributePoints(totalPoints);
    bonuses.power += dist.power;
    bonuses.loft += dist.loft;
    bonuses.wind += dist.wind;
    
    let bStr = [];
    if (dist.power > 0) bStr.push(`Power +${dist.power}`);
    if (dist.loft > 0) bStr.push(`Angle +${dist.loft}`);
    if (dist.wind > 0) bStr.push(`Assist +${dist.wind}`);

    feedbackText.innerHTML = `
      <span class="text-emerald-600 dark:text-emerald-400 block text-xl mb-1">Correct!</span>
      <span class="text-amber-500 dark:text-amber-400 text-sm font-bold">‚ú® ${bStr.join(' ')}</span>
      ${expHtml}
    `;
  } else {
    // Change card background to red
    card.classList.remove('bg-white', 'dark:bg-slate-800', 'border-slate-200', 'dark:border-slate-600');
    card.classList.add('bg-rose-100', 'dark:bg-rose-900', 'border-rose-500');

    options[selectedIndex].classList.add('wrong');
    options[q.a].classList.add('correct');
    options[q.a].classList.remove('opacity-60');
    feedbackText.innerHTML = `<span class="text-rose-500 dark:text-rose-400 block text-xl">Incorrect...</span>${expHtml}`;
    
    // Record Wrong Answer
    wrongAnswers.push({
      q: q.q,
      correct: q.options[q.a],
      selected: q.options[selectedIndex]
    });
  }

  const fbArea = document.getElementById('feedback-area');
  fbArea.classList.remove('hidden');
  fbArea.classList.add('fade-in');
}

function distributePoints(points) {
  const stats = ['power', 'loft', 'wind'];
  let dist = { power: 0, loft: 0, wind: 0 };
  for (let i = 0; i < points; i++) {
    dist[stats[Math.floor(Math.random() * 3)]]++;
  }
  return dist;
}

function nextQuestion() {
  currentQuestionIndex++;
  document.getElementById('feedback-area').classList.add('hidden');
  
  if (currentQuestionIndex < currentQuestions.length) {
    renderQuestion();
  } else {
    showResults();
  }
}

function showResults() {
  document.getElementById('question-area').classList.add('hidden');
  const resArea = document.getElementById('result-area');
  resArea.classList.remove('hidden');
  resArea.classList.add('fade-in');
  document.getElementById('quiz-progress').style.width = '100%';

  // FIX: Update the score in the result view. The span ID was added in renderQuizStructure.
  const scoreEl = document.getElementById('val-result-score');
  if (scoreEl) scoreEl.textContent = score;

  document.getElementById('bonus-power').textContent = `Lv. ${bonuses.power}`;
  document.getElementById('bonus-loft').textContent = `Lv. ${bonuses.loft}`;
  document.getElementById('bonus-wind').textContent = `Lv. ${bonuses.wind}`;

  // Render Review List
  const container = document.getElementById('review-list-container');
  if (wrongAnswers.length > 0) {
      container.innerHTML = `
        <div class="mt-6 bg-rose-50 dark:bg-rose-900/30 p-4 rounded-xl border border-rose-200 dark:border-rose-800 text-left">
          <h3 class="font-bold text-rose-600 dark:text-rose-400 mb-3 text-sm uppercase flex items-center gap-2"><span>‚ö†Ô∏è</span> Review Mistakes</h3>
          <div class="space-y-3 max-h-40 overflow-y-auto pr-2 text-xs md:text-sm custom-scrollbar">
            ${wrongAnswers.map(w => `
              <div class="border-b border-rose-100 dark:border-rose-800 pb-2 last:border-0 last:pb-0">
                <p class="font-bold text-slate-700 dark:text-slate-300 mb-1 leading-snug">${w.q}</p>
                <div class="flex justify-between items-center">
                   <span class="text-rose-500 line-through decoration-2 opacity-70 truncate max-w-[45%]">${w.selected}</span>
                   <span class="text-emerald-600 dark:text-emerald-400 font-bold truncate max-w-[45%]">üëâ ${w.correct}</span>
                </div>
              </div>
            `).join('')}
          </div>
        </div>
      `;
  } else {
      container.innerHTML = '';
  }

  // Save Quiz High Score (Correct count) immediately
  const stats = getStats(currentGenre.id);
  if (score > stats.maxCorrect) {
    stats.maxCorrect = score;
    localStorage.setItem(`golf_stats_${currentGenre.id}`, JSON.stringify(stats));
  }
}

function transitionToGame() {
  // 1. Reset Game Physics & Status (IDLE)
  resetGame();

  // 2. Apply New Parameters from Quiz
  updateParams({
    power: bonuses.power,
    loft: bonuses.loft,
    wind: bonuses.wind
  }, currentGenre.id);

  // 3. Update UI Visibility
  els.quizContainer.classList.add('hidden');
  els.menuContainer.classList.add('hidden'); 
  els.gameContainer.classList.remove('blur-md');
  els.gameContainer.style.zIndex = '10';

  // 4. Auto Launch after a short delay for visual transition
  // This ensures params are set and UI is ready before physics starts
  setTimeout(() => {
    launchBall();
  }, 600);
}

// Directly call init since module script is deferred by default
init();